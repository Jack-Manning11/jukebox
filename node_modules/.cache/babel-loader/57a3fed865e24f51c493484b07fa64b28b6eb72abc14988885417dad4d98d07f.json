{"ast":null,"code":"import _classCallCheck from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutProperties from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _regeneratorRuntime from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"children\", \"isActive\", \"onClick\"],\n  _excluded2 = [\"bgColor\"],\n  _excluded3 = [\"children\", \"styles\"];\nvar _checkTracksStatus2, _getDevices2, _getPlaybackState2, _getQueue2, _next2, _pause2, _play2, _previous2, _removeTracks2, _repeat2, _saveTracks2, _seek2, _setDevice2, _setVolume2, _shuffle2, _class;\nvar __defProp = Object.defineProperty;\nvar __export = function __export(target, all) {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\n\n// src/index.tsx\nimport { createRef, PureComponent } from \"react\";\nimport isEqual from \"@gilbarbara/deep-equal\";\nimport memoize from \"memoize-one\";\n\n// src/modules/getters.ts\nfunction getLocale(locale) {\n  return _objectSpread({\n    currentDevice: \"Current device\",\n    devices: \"Devices\",\n    next: \"Next\",\n    otherDevices: \"Select other device\",\n    pause: \"Pause\",\n    play: \"Play\",\n    previous: \"Previous\",\n    removeTrack: \"Remove from your favorites\",\n    saveTrack: \"Save to your favorites\",\n    title: \"{name} on SPOTIFY\",\n    volume: \"Volume\"\n  }, locale);\n}\nfunction getMergedStyles(styles) {\n  return _objectSpread({\n    activeColor: \"#1cb954\",\n    altColor: \"#ccc\",\n    bgColor: \"#fff\",\n    color: \"#333\",\n    errorColor: \"#ff0026\",\n    height: 80,\n    loaderColor: \"#ccc\",\n    loaderSize: 32,\n    sliderColor: \"#666\",\n    sliderHandleBorderRadius: \"50%\",\n    sliderHandleColor: \"#000\",\n    sliderHeight: 4,\n    sliderTrackBorderRadius: 4,\n    sliderTrackColor: \"#ccc\",\n    trackArtistColor: \"#666\",\n    trackNameColor: \"#333\"\n  }, styles);\n}\nfunction getSpotifyLink(uri) {\n  var _uri$split = uri.split(\":\"),\n    _uri$split2 = _slicedToArray(_uri$split, 3),\n    _uri$split2$ = _uri$split2[1],\n    type = _uri$split2$ === void 0 ? \"\" : _uri$split2$,\n    _uri$split2$2 = _uri$split2[2],\n    id = _uri$split2$2 === void 0 ? \"\" : _uri$split2$2;\n  return \"https://open.spotify.com/\".concat(type, \"/\").concat(id);\n}\nfunction getSpotifyLinkTitle(name, locale) {\n  return locale.replace(\"{name}\", name);\n}\nfunction getSpotifyURIType(uri) {\n  var _uri$split3 = uri.split(\":\"),\n    _uri$split4 = _slicedToArray(_uri$split3, 2),\n    _uri$split4$ = _uri$split4[1],\n    type = _uri$split4$ === void 0 ? \"\" : _uri$split4$;\n  return type;\n}\n\n// src/modules/helpers.ts\nfunction convertTrack(track) {\n  var album = track.album,\n    artists = track.artists,\n    duration_ms = track.duration_ms,\n    id = track.id,\n    name = track.name,\n    uri = track.uri;\n  return {\n    artists: artists,\n    durationMs: duration_ms,\n    id: id !== null && id !== void 0 ? id : \"\",\n    image: getAlbumImage(album),\n    name: name,\n    uri: uri\n  };\n}\nfunction getAlbumImage(album) {\n  var _album$images$find;\n  var maxWidth = Math.max.apply(Math, _toConsumableArray(album.images.map(function (d) {\n    return d.width || 0;\n  })));\n  return ((_album$images$find = album.images.find(function (d) {\n    return d.width === maxWidth;\n  })) === null || _album$images$find === void 0 ? void 0 : _album$images$find.url) || \"\";\n}\nfunction getRepeatState(mode) {\n  switch (mode) {\n    case 1:\n      return \"context\";\n    case 2:\n      return \"track\";\n    case 0:\n    default:\n      return \"off\";\n  }\n}\nfunction getURIs(uris) {\n  if (!uris) {\n    return [];\n  }\n  return Array.isArray(uris) ? uris : [uris];\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction loadSpotifyPlayer() {\n  return new Promise(function (resolve, reject) {\n    var scriptTag = document.getElementById(\"spotify-player\");\n    if (!scriptTag) {\n      var script = document.createElement(\"script\");\n      script.id = \"spotify-player\";\n      script.type = \"text/javascript\";\n      script.async = false;\n      script.defer = true;\n      script.src = \"https://sdk.scdn.co/spotify-player.js\";\n      script.onload = function () {\n        return resolve();\n      };\n      script.onerror = function (error) {\n        return reject(new Error(\"loadScript: \".concat(error.message)));\n      };\n      document.head.appendChild(script);\n    } else {\n      resolve();\n    }\n  });\n}\nfunction millisecondsToTime(input) {\n  var seconds = Math.floor(input / 1e3 % 60);\n  var minutes = Math.floor(input / (1e3 * 60) % 60);\n  var hours = Math.floor(input / (1e3 * 60 * 60) % 24);\n  var parts = [];\n  if (hours > 0) {\n    parts.push(\"\".concat(hours).padStart(2, \"0\"), \"\".concat(minutes).padStart(2, \"0\"), \"\".concat(seconds).padStart(2, \"0\"));\n  } else {\n    parts.push(\"\".concat(minutes), \"\".concat(seconds).padStart(2, \"0\"));\n  }\n  return parts.join(\":\");\n}\nfunction parseVolume(value) {\n  if (!isNumber(value)) {\n    return 1;\n  }\n  if (value > 1) {\n    return value / 100;\n  }\n  return value;\n}\nfunction round(number) {\n  var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var factor = Math.pow(10, digits);\n  return Math.round(number * factor) / factor;\n}\nfunction validateURI(input) {\n  var validTypes = [\"album\", \"artist\", \"playlist\", \"show\", \"track\"];\n  if (input && input.indexOf(\":\") > -1) {\n    var _input$split = input.split(\":\"),\n      _input$split2 = _slicedToArray(_input$split, 3),\n      key = _input$split2[0],\n      type = _input$split2[1],\n      id = _input$split2[2];\n    if (key === \"spotify\" && validTypes.indexOf(type) >= 0 && id.length === 22) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// src/modules/spotify.ts\nvar spotify_exports = {};\n__export(spotify_exports, {\n  checkTracksStatus: function checkTracksStatus() {\n    return _checkTracksStatus;\n  },\n  getDevices: function getDevices() {\n    return _getDevices;\n  },\n  getPlaybackState: function getPlaybackState() {\n    return _getPlaybackState;\n  },\n  getQueue: function getQueue() {\n    return _getQueue;\n  },\n  next: function next() {\n    return _next;\n  },\n  pause: function pause() {\n    return _pause;\n  },\n  play: function play() {\n    return _play;\n  },\n  previous: function previous() {\n    return _previous;\n  },\n  removeTracks: function removeTracks() {\n    return _removeTracks;\n  },\n  repeat: function repeat() {\n    return _repeat;\n  },\n  saveTracks: function saveTracks() {\n    return _saveTracks;\n  },\n  seek: function seek() {\n    return _seek;\n  },\n  setDevice: function setDevice() {\n    return _setDevice;\n  },\n  setVolume: function setVolume() {\n    return _setVolume;\n  },\n  shuffle: function shuffle() {\n    return _shuffle;\n  }\n});\nfunction _checkTracksStatus(_x, _x2) {\n  return (_checkTracksStatus2 = _checkTracksStatus2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(token, tracks) {\n    var ids;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          ids = Array.isArray(tracks) ? tracks : [tracks];\n          return _context.abrupt(\"return\", fetch(\"https://api.spotify.com/v1/me/tracks/contains?ids=\".concat(ids), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"GET\"\n          }).then(function (d) {\n            return d.json();\n          }));\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }))).apply(this, arguments);\n}\nfunction _getDevices(_x3) {\n  return (_getDevices2 = _getDevices2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(token) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", fetch(\"https://api.spotify.com/v1/me/player/devices\", {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"GET\"\n          }).then(function (d) {\n            return d.json();\n          }));\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }))).apply(this, arguments);\n}\nfunction _getPlaybackState(_x4) {\n  return (_getPlaybackState2 = _getPlaybackState2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(token) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", fetch(\"https://api.spotify.com/v1/me/player\", {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"GET\"\n          }).then(function (d) {\n            if (d.status === 204) {\n              return null;\n            }\n            return d.json();\n          }));\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }))).apply(this, arguments);\n}\nfunction _getQueue(_x5) {\n  return (_getQueue2 = _getQueue2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token) {\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", fetch(\"https://api.spotify.com/v1/me/player/queue\", {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"GET\"\n          }).then(function (d) {\n            return d.json();\n          }));\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }))).apply(this, arguments);\n}\nfunction _next(_x6, _x7) {\n  return (_next2 = _next2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(token, deviceId) {\n    var query;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          query = \"\";\n          if (deviceId) {\n            query += \"?device_id=\".concat(deviceId);\n          }\n          _context5.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/next\".concat(query), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"POST\"\n          });\n        case 4:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }))).apply(this, arguments);\n}\nfunction _pause(_x8, _x9) {\n  return (_pause2 = _pause2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(token, deviceId) {\n    var query;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          query = \"\";\n          if (deviceId) {\n            query += \"?device_id=\".concat(deviceId);\n          }\n          _context6.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/pause\".concat(query), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 4:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }))).apply(this, arguments);\n}\nfunction _play(_x10, _x11) {\n  return (_play2 = _play2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(token, _ref) {\n    var context_uri, deviceId, _ref$offset, offset, uris, body, isArtist, position;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          context_uri = _ref.context_uri, deviceId = _ref.deviceId, _ref$offset = _ref.offset, offset = _ref$offset === void 0 ? 0 : _ref$offset, uris = _ref.uris;\n          if (context_uri) {\n            isArtist = context_uri.indexOf(\"artist\") >= 0;\n            if (!isArtist) {\n              position = {\n                position: offset\n              };\n            }\n            body = JSON.stringify({\n              context_uri: context_uri,\n              offset: position\n            });\n          } else if (Array.isArray(uris) && uris.length) {\n            body = JSON.stringify({\n              uris: uris,\n              offset: {\n                position: offset\n              }\n            });\n          }\n          _context7.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/play?device_id=\".concat(deviceId), {\n            body: body,\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 4:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }))).apply(this, arguments);\n}\nfunction _previous(_x12, _x13) {\n  return (_previous2 = _previous2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(token, deviceId) {\n    var query;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          query = \"\";\n          if (deviceId) {\n            query += \"?device_id=\".concat(deviceId);\n          }\n          _context8.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/previous\".concat(query), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"POST\"\n          });\n        case 4:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }))).apply(this, arguments);\n}\nfunction _removeTracks(_x14, _x15) {\n  return (_removeTracks2 = _removeTracks2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(token, tracks) {\n    var ids;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          ids = Array.isArray(tracks) ? tracks : [tracks];\n          _context9.next = 3;\n          return fetch(\"https://api.spotify.com/v1/me/tracks\", {\n            body: JSON.stringify(ids),\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"DELETE\"\n          });\n        case 3:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }))).apply(this, arguments);\n}\nfunction _repeat(_x16, _x17, _x18) {\n  return (_repeat2 = _repeat2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(token, state, deviceId) {\n    var query;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          query = \"?state=\".concat(state);\n          if (deviceId) {\n            query += \"&device_id=\".concat(deviceId);\n          }\n          _context10.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/repeat\".concat(query), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 4:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }))).apply(this, arguments);\n}\nfunction _saveTracks(_x19, _x20) {\n  return (_saveTracks2 = _saveTracks2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(token, tracks) {\n    var ids;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          ids = Array.isArray(tracks) ? tracks : [tracks];\n          _context11.next = 3;\n          return fetch(\"https://api.spotify.com/v1/me/tracks\", {\n            body: JSON.stringify({\n              ids: ids\n            }),\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 3:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }))).apply(this, arguments);\n}\nfunction _seek(_x21, _x22, _x23) {\n  return (_seek2 = _seek2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(token, position, deviceId) {\n    var query;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          query = \"?position_ms=\".concat(position);\n          if (deviceId) {\n            query += \"&device_id=\".concat(deviceId);\n          }\n          _context12.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/seek\".concat(query), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 4:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12);\n  }))).apply(this, arguments);\n}\nfunction _setDevice(_x24, _x25, _x26) {\n  return (_setDevice2 = _setDevice2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(token, deviceId, shouldPlay) {\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.next = 2;\n          return fetch(\"https://api.spotify.com/v1/me/player\", {\n            body: JSON.stringify({\n              device_ids: [deviceId],\n              play: shouldPlay\n            }),\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 2:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13);\n  }))).apply(this, arguments);\n}\nfunction _setVolume(_x27, _x28, _x29) {\n  return (_setVolume2 = _setVolume2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(token, volume, deviceId) {\n    var query;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          query = \"?volume_percent=\".concat(volume);\n          if (deviceId) {\n            query += \"&device_id=\".concat(deviceId);\n          }\n          _context14.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/volume\".concat(query), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 4:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14);\n  }))).apply(this, arguments);\n}\nfunction _shuffle(_x30, _x31, _x32) {\n  return (_shuffle2 = _shuffle2 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(token, state, deviceId) {\n    var query;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          query = \"?state=\".concat(state);\n          if (deviceId) {\n            query += \"&device_id=\".concat(deviceId);\n          }\n          _context15.next = 4;\n          return fetch(\"https://api.spotify.com/v1/me/player/shuffle\".concat(query), {\n            headers: {\n              Authorization: \"Bearer \".concat(token),\n              \"Content-Type\": \"application/json\"\n            },\n            method: \"PUT\"\n          });\n        case 4:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15);\n  }))).apply(this, arguments);\n} // src/modules/styled.tsx\nimport { createElement } from \"react\";\nimport { create } from \"nano-css\";\nimport { addon as addonJSX } from \"nano-css/addon/jsx.js\";\nimport { addon as addonKeyframes } from \"nano-css/addon/keyframes.js\";\nimport { addon as addonNesting } from \"nano-css/addon/nesting.js\";\nimport { addon as addonRule } from \"nano-css/addon/rule.js\";\nimport { addon as addonStyle } from \"nano-css/addon/style.js\";\nimport { addon as addonStyled } from \"nano-css/addon/styled.js\";\nvar nano = create({\n  h: createElement\n});\naddonRule(nano);\naddonKeyframes(nano);\naddonJSX(nano);\naddonStyle(nano);\naddonStyled(nano);\naddonNesting(nano);\nvar keyframes = nano.keyframes,\n  put = nano.put,\n  styled = nano.styled;\nvar px = function px(value) {\n  return typeof value === \"number\" ? \"\".concat(value, \"px\") : value;\n};\n\n// src/components/Actions.tsx\nimport { memo } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar Wrapper = styled(\"div\")({\n  alignItems: \"center\",\n  display: \"flex\",\n  justifyContent: \"flex-end\",\n  \"pointer-events\": \"none\"\n}, function (_ref2) {\n  var style = _ref2.style;\n  var styles = {\n    bottom: 0,\n    position: \"absolute\",\n    right: 0,\n    width: \"auto\"\n  };\n  if (style.layout === \"responsive\") {\n    styles = {\n      \"@media (max-width: 767px)\": styles,\n      \"@media (min-width: 768px)\": {\n        height: px(style.h)\n      }\n    };\n  }\n  return _objectSpread({\n    height: px(32)\n  }, styles);\n}, \"ActionsRSWP\");\nfunction Actions(props) {\n  var children = props.children,\n    layout = props.layout,\n    styles = props.styles;\n  return /* @__PURE__ */jsx(Wrapper, {\n    \"data-component-name\": \"Actions\",\n    style: {\n      h: styles.height,\n      layout: layout\n    },\n    children: children\n  });\n}\nvar Actions_default = memo(Actions);\n\n// src/components/Controls.tsx\nimport { memo as memo3 } from \"react\";\n\n// src/components/icons/Next.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nfunction Next(props) {\n  return /* @__PURE__ */jsx2(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx2(\"path\", {\n      d: \"M53.486 0a3.2 3.2 0 0 0-3.2 3.2v23.543L4.8.489A3.2 3.2 0 0 0 0 3.255V60.74a3.2 3.2 0 0 0 4.8 2.774l45.486-26.262V60.8a3.2 3.2 0 0 0 3.2 3.2H60.8a3.2 3.2 0 0 0 3.2-3.2V3.2A3.2 3.2 0 0 0 60.8 0h-7.314Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/Pause.tsx\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nfunction Pause(props) {\n  return /* @__PURE__ */jsx3(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx3(\"path\", {\n      d: \"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm-5.4 18h-5.2a1.4 1.4 0 0 0-1.4 1.4v25.2a1.4 1.4 0 0 0 1.4 1.4h5.2a1.4 1.4 0 0 0 1.4-1.4V19.4a1.4 1.4 0 0 0-1.4-1.4Zm16 0h-5.2a1.4 1.4 0 0 0-1.4 1.4v25.2a1.4 1.4 0 0 0 1.4 1.4h5.2a1.4 1.4 0 0 0 1.4-1.4V19.4a1.4 1.4 0 0 0-1.4-1.4Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/Play.tsx\nimport { jsx as jsx4 } from \"react/jsx-runtime\";\nfunction Play(props) {\n  return /* @__PURE__ */jsx4(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx4(\"path\", {\n      d: \"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm-7.61 18.188c-.435.251-.702.715-.701 1.216v25.194a1.402 1.402 0 0 0 2.104 1.214L47.61 33.214a1.402 1.402 0 0 0 0-2.428L25.793 18.188c-.435-.25-.97-.25-1.404 0Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/Previous.tsx\nimport { jsx as jsx5 } from \"react/jsx-runtime\";\nfunction Previous(props) {\n  return /* @__PURE__ */jsx5(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx5(\"path\", {\n      d: \"M10.514 0a3.2 3.2 0 0 1 3.2 3.2v23.543L59.2.489A3.2 3.2 0 0 1 64 3.255V60.74a3.2 3.2 0 0 1-4.8 2.774L13.714 37.253V60.8a3.2 3.2 0 0 1-3.2 3.2H3.2A3.2 3.2 0 0 1 0 60.8V3.2A3.2 3.2 0 0 1 3.2 0h7.314Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/Slider.tsx\nimport { memo as memo2 } from \"react\";\nimport RangeSlider from \"@gilbarbara/react-range-slider\";\nimport { jsx as jsx6, jsxs } from \"react/jsx-runtime\";\nvar Wrapper2 = styled(\"div\")({\n  alignItems: \"center\",\n  display: \"flex\",\n  fontSize: px(12),\n  transition: \"height 0.3s\",\n  zIndex: 10\n}, function (_ref3) {\n  var style = _ref3.style;\n  return {\n    '[class^=\"rswp_\"]': {\n      color: style.c,\n      lineHeight: 1,\n      minWidth: px(32)\n    },\n    \".rswp_progress\": {\n      marginRight: px(style.sliderHeight + 6),\n      textAlign: \"right\"\n    },\n    \".rswp_duration\": {\n      marginLeft: px(style.sliderHeight + 6),\n      textAlign: \"left\"\n    }\n  };\n}, \"SliderRSWP\");\nfunction Slider(props) {\n  var _ref5;\n  var durationMs = props.durationMs,\n    isMagnified = props.isMagnified,\n    onChangeRange = props.onChangeRange,\n    onToggleMagnify = props.onToggleMagnify,\n    position = props.position,\n    progressMs = props.progressMs,\n    styles = props.styles;\n  var handleChangeRange = function handleChangeRange(_x33) {\n    return (_ref5 = _ref5 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(_ref4) {\n      var x;\n      return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n        while (1) switch (_context16.prev = _context16.next) {\n          case 0:\n            x = _ref4.x;\n            onChangeRange(x);\n          case 2:\n          case \"end\":\n            return _context16.stop();\n        }\n      }, _callee16);\n    }))).apply(this, arguments);\n  };\n  var handleSize = styles.sliderHeight + 6;\n  return /* @__PURE__ */jsxs(Wrapper2, {\n    \"data-component-name\": \"Slider\",\n    \"data-position\": position,\n    onMouseEnter: onToggleMagnify,\n    onMouseLeave: onToggleMagnify,\n    style: {\n      c: styles.color,\n      sliderHeight: styles.sliderHeight\n    },\n    children: [/* @__PURE__ */jsx6(\"div\", {\n      className: \"rswp_progress\",\n      children: millisecondsToTime(progressMs)\n    }), /* @__PURE__ */jsx6(RangeSlider, {\n      axis: \"x\",\n      className: \"slider\",\n      \"data-component-name\": \"progress-bar\",\n      onChange: handleChangeRange,\n      styles: {\n        options: {\n          thumbBorder: 0,\n          thumbBorderRadius: styles.sliderHandleBorderRadius,\n          thumbColor: styles.sliderHandleColor,\n          thumbSize: isMagnified ? handleSize + 4 : handleSize,\n          height: isMagnified ? styles.sliderHeight + 4 : styles.sliderHeight,\n          padding: 0,\n          rangeColor: styles.sliderColor,\n          trackBorderRadius: styles.sliderTrackBorderRadius,\n          trackColor: styles.sliderTrackColor\n        }\n      },\n      x: position,\n      xMax: 100,\n      xMin: 0,\n      xStep: 0.1\n    }), /* @__PURE__ */jsx6(\"div\", {\n      className: \"rswp_duration\",\n      children: millisecondsToTime(durationMs)\n    })]\n  });\n}\nvar Slider_default = memo2(Slider);\n\n// src/components/Controls.tsx\nimport { jsx as jsx7, jsxs as jsxs2 } from \"react/jsx-runtime\";\nvar Wrapper3 = styled(\"div\")({\n  \".rswp__volume\": {\n    position: \"absolute\",\n    right: 0,\n    top: 0\n  },\n  \".rswp__devices\": {\n    position: \"absolute\",\n    left: 0,\n    top: 0\n  }\n}, function (_ref6) {\n  var style = _ref6.style;\n  var isCompactLayout = style.layout === \"compact\";\n  var styles = {};\n  if (isCompactLayout) {\n    styles.padding = px(8);\n  } else {\n    styles.padding = \"\".concat(px(4), \" 0\");\n    styles[\"@media (max-width: 767px)\"] = {\n      padding: px(8)\n    };\n  }\n  return styles;\n}, \"ControlsRSWP\");\nvar Buttons = styled(\"div\")({\n  alignItems: \"center\",\n  display: \"flex\",\n  justifyContent: \"center\",\n  marginBottom: px(8),\n  position: \"relative\",\n  \"> div\": {\n    alignItems: \"center\",\n    display: \"flex\",\n    minWidth: px(32),\n    textAlign: \"center\"\n  }\n}, function (_ref7) {\n  var style = _ref7.style;\n  return {\n    color: style.c\n  };\n}, \"ControlsButtonsRSWP\");\nvar Button = styled(\"button\")({\n  alignItems: \"center\",\n  display: \"inline-flex\",\n  fontSize: px(16),\n  height: px(32),\n  justifyContent: \"center\",\n  width: px(32),\n  \"&:disabled\": {\n    cursor: \"default\",\n    opacity: 0.6\n  },\n  \"&.rswp__toggle\": {\n    fontSize: px(32),\n    width: px(48)\n  }\n}, function () {\n  return {};\n}, \"ControlsButtonRSWP\");\nfunction Controls(props) {\n  var _props$components = props.components,\n    _props$components2 = _props$components === void 0 ? {} : _props$components,\n    leftButton = _props$components2.leftButton,\n    rightButton = _props$components2.rightButton,\n    devices = props.devices,\n    durationMs = props.durationMs,\n    isActive = props.isActive,\n    isExternalDevice = props.isExternalDevice,\n    isMagnified = props.isMagnified,\n    isPlaying = props.isPlaying,\n    layout = props.layout,\n    locale = props.locale,\n    nextTracks = props.nextTracks,\n    onChangeRange = props.onChangeRange,\n    onClickNext = props.onClickNext,\n    onClickPrevious = props.onClickPrevious,\n    onClickTogglePlay = props.onClickTogglePlay,\n    onToggleMagnify = props.onToggleMagnify,\n    position = props.position,\n    progressMs = props.progressMs,\n    styles = props.styles,\n    volume = props.volume;\n  var color = styles.color;\n  return /* @__PURE__ */jsxs2(Wrapper3, {\n    \"data-component-name\": \"Controls\",\n    \"data-playing\": isPlaying,\n    style: {\n      layout: layout\n    },\n    children: [/* @__PURE__ */jsxs2(Buttons, {\n      style: {\n        c: color\n      },\n      children: [devices && /* @__PURE__ */jsx7(\"div\", {\n        className: \"rswp__devices\",\n        children: devices\n      }), /* @__PURE__ */jsx7(\"div\", {\n        children: leftButton\n      }), /* @__PURE__ */jsx7(\"div\", {\n        children: /* @__PURE__ */jsx7(Button, {\n          \"aria-label\": locale.previous,\n          className: \"ButtonRSWP\",\n          disabled: !isActive && !isExternalDevice,\n          onClick: onClickPrevious,\n          title: locale.previous,\n          type: \"button\",\n          children: /* @__PURE__ */jsx7(Previous, {})\n        })\n      }), /* @__PURE__ */jsx7(\"div\", {\n        children: /* @__PURE__ */jsx7(Button, {\n          \"aria-label\": isPlaying ? locale.pause : locale.play,\n          className: \"ButtonRSWP rswp__toggle\",\n          onClick: onClickTogglePlay,\n          title: isPlaying ? locale.pause : locale.play,\n          type: \"button\",\n          children: isPlaying ? /* @__PURE__ */jsx7(Pause, {}) : /* @__PURE__ */jsx7(Play, {})\n        })\n      }), /* @__PURE__ */jsx7(\"div\", {\n        children: /* @__PURE__ */jsx7(Button, {\n          \"aria-label\": locale.next,\n          className: \"ButtonRSWP\",\n          disabled: !nextTracks.length && !isActive && !isExternalDevice,\n          onClick: onClickNext,\n          title: locale.next,\n          type: \"button\",\n          children: /* @__PURE__ */jsx7(Next, {})\n        })\n      }), /* @__PURE__ */jsx7(\"div\", {\n        children: rightButton\n      }), volume && /* @__PURE__ */jsx7(\"div\", {\n        className: \"rswp__volume\",\n        children: volume\n      })]\n    }), /* @__PURE__ */jsx7(Slider_default, {\n      durationMs: durationMs,\n      isMagnified: isMagnified,\n      onChangeRange: onChangeRange,\n      onToggleMagnify: onToggleMagnify,\n      position: position,\n      progressMs: progressMs,\n      styles: styles\n    })]\n  });\n}\nvar Controls_default = memo3(Controls);\n\n// src/components/Devices.tsx\nimport { useCallback, useState } from \"react\";\n\n// src/components/ClickOutside.tsx\nimport { memo as memo4, useEffect, useRef } from \"react\";\nimport { jsx as jsx8 } from \"react/jsx-runtime\";\nfunction ClickOutside(props) {\n  var children = props.children,\n    isActive = props.isActive,\n    onClick = props.onClick,\n    rest = _objectWithoutProperties(props, _excluded);\n  var containerRef = useRef(null);\n  var isTouch = useRef(false);\n  var handleClick = useRef(function (event) {\n    var container = containerRef.current;\n    if (event.type === \"touchend\") {\n      isTouch.current = true;\n    }\n    if (event.type === \"click\" && isTouch.current) {\n      return;\n    }\n    if (container && !container.contains(event.target)) {\n      onClick();\n    }\n  });\n  useEffect(function () {\n    var current = handleClick.current;\n    if (isActive) {\n      document.addEventListener(\"touchend\", current, true);\n      document.addEventListener(\"click\", current, true);\n    }\n    return function () {\n      document.removeEventListener(\"touchend\", current, true);\n      document.removeEventListener(\"click\", current, true);\n    };\n  }, [isActive]);\n  return /* @__PURE__ */jsx8(\"div\", _objectSpread(_objectSpread({\n    ref: containerRef\n  }, rest), {}, {\n    children: children\n  }));\n}\nvar ClickOutside_default = memo4(ClickOutside);\n\n// src/components/icons/Devices.tsx\nimport { jsx as jsx9 } from \"react/jsx-runtime\";\nfunction DevicesIcon(props) {\n  return /* @__PURE__ */jsx9(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx9(\"path\", {\n      d: \"M57 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H31a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26ZM16 54v6H8v-6h8Zm41-44H31a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM44 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM16 4v6H7a1 1 0 0 0-1 1v26a1 1 0 0 0 1 1h9v6H7a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h9Zm28 12a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/DevicesComputer.tsx\nimport { jsx as jsx10 } from \"react/jsx-runtime\";\nfunction DevicesComputerIcon(props) {\n  return /* @__PURE__ */jsx10(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx10(\"path\", {\n      d: \"M7.226 10.323a7.228 7.228 0 0 1 7.226-7.226h35.096a7.228 7.228 0 0 1 7.226 7.226V37.16a7.226 7.226 0 0 1-7.226 7.226H14.452a7.226 7.226 0 0 1-7.226-7.226V10.323Zm7.226-1.033c-.57 0-1.033.462-1.033 1.033V37.16c0 .57.463 1.033 1.033 1.033h35.096c.57 0 1.033-.463 1.033-1.033V10.323c0-.57-.463-1.033-1.033-1.033H14.452ZM0 57.806a3.097 3.097 0 0 1 3.097-3.096h57.806a3.097 3.097 0 0 1 0 6.193H3.097A3.097 3.097 0 0 1 0 57.806Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/DevicesMobile.tsx\nimport { jsx as jsx11 } from \"react/jsx-runtime\";\nfunction DevicesMobileIcon(props) {\n  return /* @__PURE__ */jsx11(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx11(\"path\", {\n      d: \"M44.8 0a9.6 9.6 0 0 1 9.6 9.6v44.8a9.6 9.6 0 0 1-9.6 9.6H19.2a9.6 9.6 0 0 1-9.6-9.6V9.6A9.6 9.6 0 0 1 19.2 0h25.6Zm0 6.4H19.2A3.2 3.2 0 0 0 16 9.6v44.8a3.2 3.2 0 0 0 3.2 3.2h25.6a3.2 3.2 0 0 0 3.2-3.2V9.6a3.2 3.2 0 0 0-3.2-3.2ZM32 43.2a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/DevicesSpeaker.tsx\nimport { jsx as jsx12 } from \"react/jsx-runtime\";\nfunction DevicesSpeakerIcon(props) {\n  return /* @__PURE__ */jsx12(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx12(\"path\", {\n      d: \"M45 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H19a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26Zm0 6H19a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM32 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0-16a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/Devices.tsx\nimport { Fragment, jsx as jsx13, jsxs as jsxs3 } from \"react/jsx-runtime\";\nvar Wrapper4 = styled(\"div\")({\n  \"pointer-events\": \"all\",\n  alignItems: \"center\",\n  display: \"flex\",\n  justifyContent: \"center\",\n  position: \"relative\",\n  zIndex: 20,\n  \"> div\": {\n    backgroundColor: \"#000\",\n    borderRadius: px(8),\n    color: \"#fff\",\n    filter: \"drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))\",\n    fontSize: px(14),\n    padding: px(16),\n    position: \"absolute\",\n    textAlign: \"left\",\n    \"> p\": {\n      fontWeight: \"bold\",\n      marginBottom: px(8),\n      marginTop: px(16),\n      whiteSpace: \"nowrap\"\n    },\n    button: {\n      alignItems: \"center\",\n      display: \"flex\",\n      whiteSpace: \"nowrap\",\n      width: \"100%\",\n      \"&:not(:last-of-type)\": {\n        marginBottom: px(12)\n      },\n      span: {\n        display: \"inline-block\",\n        marginLeft: px(4)\n      }\n    },\n    \"> span\": {\n      background: \"transparent\",\n      borderLeft: \"6px solid transparent\",\n      borderRight: \"6px solid transparent\",\n      content: '\"\"',\n      display: \"block\",\n      height: 0,\n      position: \"absolute\",\n      width: 0\n    }\n  },\n  \"> button\": {\n    alignItems: \"center\",\n    display: \"flex\",\n    fontSize: px(24),\n    height: px(32),\n    justifyContent: \"center\",\n    width: px(32)\n  }\n}, function (_ref8) {\n  var _ref9, _ref10;\n  var style = _ref8.style;\n  var isCompact = style.layout === \"compact\";\n  var divStyles = isCompact ? {\n    bottom: \"120%\",\n    left: 0\n  } : (_ref9 = {}, _defineProperty(_ref9, style.p, \"120%\"), _defineProperty(_ref9, \"left\", 0), _defineProperty(_ref9, \"@media (min-width: 768px)\", {\n    left: \"auto\",\n    right: 0\n  }), _ref9);\n  var spanStyles = isCompact ? {\n    bottom: \"-\".concat(px(6)),\n    borderTop: \"6px solid #000\",\n    left: px(10)\n  } : (_ref10 = {}, _defineProperty(_ref10, style.p === \"top\" ? \"border-bottom\" : \"border-top\", \"6px solid #000\"), _defineProperty(_ref10, style.p, \"-6px\"), _defineProperty(_ref10, \"left\", px(10)), _defineProperty(_ref10, \"@media (min-width: 768px)\", {\n    left: \"auto\",\n    right: px(10)\n  }), _ref10);\n  return {\n    \"> button\": {\n      color: style.c\n    },\n    \"> div\": _objectSpread(_objectSpread({}, divStyles), {}, {\n      \"> span\": spanStyles\n    })\n  };\n}, \"DevicesRSWP\");\nvar ListHeader = styled(\"div\")({\n  p: {\n    whiteSpace: \"nowrap\",\n    \"&:nth-of-type(1)\": {\n      fontWeight: \"bold\",\n      marginBottom: px(8)\n    },\n    \"&:nth-of-type(2)\": {\n      alignItems: \"center\",\n      display: \"flex\",\n      span: {\n        display: \"inline-block\",\n        marginLeft: px(4)\n      }\n    }\n  }\n});\nfunction getDeviceIcon(type) {\n  if (type.toLowerCase().includes(\"speaker\")) {\n    return /* @__PURE__ */jsx13(DevicesSpeakerIcon, {});\n  }\n  if (type.toLowerCase().includes(\"computer\")) {\n    return /* @__PURE__ */jsx13(DevicesComputerIcon, {});\n  }\n  return /* @__PURE__ */jsx13(DevicesMobileIcon, {});\n}\nfunction Devices(props) {\n  var currentDeviceId = props.currentDeviceId,\n    deviceId = props.deviceId,\n    _props$devices = props.devices,\n    devices = _props$devices === void 0 ? [] : _props$devices,\n    layout = props.layout,\n    locale = props.locale,\n    onClickDevice = props.onClickDevice,\n    open = props.open,\n    playerPosition = props.playerPosition,\n    color = props.styles.color;\n  var _useState = useState(open),\n    _useState2 = _slicedToArray(_useState, 2),\n    isOpen = _useState2[0],\n    setOpen = _useState2[1];\n  var handleClickSetDevice = function handleClickSetDevice(event) {\n    var dataset = event.currentTarget.dataset;\n    if (dataset.id) {\n      onClickDevice(dataset.id);\n      setOpen(false);\n    }\n  };\n  var handleClickToggleList = useCallback(function () {\n    setOpen(function (s) {\n      return !s;\n    });\n  }, []);\n  var _devices$reduce = devices.reduce(function (acc, device) {\n      if (device.id === currentDeviceId) {\n        acc.currentDevice = device;\n      } else {\n        acc.otherDevices.push(device);\n      }\n      return acc;\n    }, {\n      currentDevice: null,\n      otherDevices: []\n    }),\n    currentDevice = _devices$reduce.currentDevice,\n    otherDevices = _devices$reduce.otherDevices;\n  var icon = /* @__PURE__ */jsx13(DevicesIcon, {});\n  if (deviceId && currentDevice && currentDevice.id !== deviceId) {\n    icon = getDeviceIcon(currentDevice.type);\n  }\n  return /* @__PURE__ */jsx13(ClickOutside_default, {\n    isActive: isOpen,\n    onClick: handleClickToggleList,\n    children: /* @__PURE__ */jsx13(Wrapper4, {\n      \"data-component-name\": \"Devices\",\n      \"data-device-id\": currentDeviceId,\n      style: {\n        c: color,\n        layout: layout,\n        p: playerPosition\n      },\n      children: !!devices.length && /* @__PURE__ */jsxs3(Fragment, {\n        children: [isOpen && /* @__PURE__ */jsxs3(\"div\", {\n          children: [currentDevice && /* @__PURE__ */jsxs3(ListHeader, {\n            children: [/* @__PURE__ */jsx13(\"p\", {\n              children: locale.currentDevice\n            }), /* @__PURE__ */jsxs3(\"p\", {\n              children: [getDeviceIcon(currentDevice.type), /* @__PURE__ */jsx13(\"span\", {\n                children: currentDevice.name\n              })]\n            })]\n          }), !!otherDevices.length && /* @__PURE__ */jsxs3(Fragment, {\n            children: [/* @__PURE__ */jsx13(\"p\", {\n              children: locale.otherDevices\n            }), otherDevices.map(function (device) {\n              return /* @__PURE__ */jsxs3(\"button\", {\n                \"aria-label\": device.name,\n                className: \"ButtonRSWP\",\n                \"data-id\": device.id,\n                onClick: handleClickSetDevice,\n                type: \"button\",\n                children: [getDeviceIcon(device.type), /* @__PURE__ */jsx13(\"span\", {\n                  children: device.name\n                })]\n              }, device.id);\n            })]\n          }), /* @__PURE__ */jsx13(\"span\", {})]\n        }), /* @__PURE__ */jsx13(\"button\", {\n          \"aria-label\": locale.devices,\n          className: \"ButtonRSWP\",\n          onClick: handleClickToggleList,\n          title: locale.devices,\n          type: \"button\",\n          children: icon\n        })]\n      })\n    })\n  });\n}\n\n// src/components/ErrorMessage.tsx\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar Wrapper5 = styled(\"div\")({\n  alignItems: \"center\",\n  display: \"flex\",\n  justifyContent: \"center\",\n  textAlign: \"center\",\n  width: \"100%\"\n}, function (_ref11) {\n  var style = _ref11.style;\n  return {\n    backgroundColor: style.bgColor,\n    borderTop: \"1px solid \".concat(style.errorColor),\n    color: style.errorColor,\n    height: px(style.h)\n  };\n}, \"ErrorRSWP\");\nfunction ErrorMessage(_ref12) {\n  var children = _ref12.children,\n    _ref12$styles = _ref12.styles,\n    bgColor = _ref12$styles.bgColor,\n    errorColor = _ref12$styles.errorColor,\n    height = _ref12$styles.height;\n  return /* @__PURE__ */jsx14(Wrapper5, {\n    \"data-component-name\": \"ErrorMessage\",\n    style: {\n      bgColor: bgColor,\n      errorColor: errorColor,\n      h: height\n    },\n    children: children\n  });\n}\n\n// src/components/Info.tsx\nimport { memo as memo5, useEffect as useEffect3, useRef as useRef3, useState as useState3 } from \"react\";\nimport { fade } from \"colorizr\";\n\n// src/modules/hooks.ts\nimport { useEffect as useEffect2, useRef as useRef2, useState as useState2 } from \"react\";\nfunction useMediaQuery(input) {\n  var getMatches = function getMatches(query) {\n    return window.matchMedia(query).matches;\n  };\n  var _useState3 = useState2(getMatches(input)),\n    _useState4 = _slicedToArray(_useState3, 2),\n    matches = _useState4[0],\n    setMatches = _useState4[1];\n  function handleChange() {\n    setMatches(getMatches(input));\n  }\n  useEffect2(function () {\n    var matchMedia = window.matchMedia(input);\n    handleChange();\n    try {\n      matchMedia.addEventListener(\"change\", handleChange);\n    } catch (_unused) {\n      matchMedia.addListener(handleChange);\n    }\n    return function () {\n      try {\n        matchMedia.removeEventListener(\"change\", handleChange);\n      } catch (_unused2) {\n        matchMedia.removeListener(handleChange);\n      }\n    };\n  }, [input]);\n  return matches;\n}\nfunction usePrevious(value) {\n  var ref = useRef2();\n  useEffect2(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\n// src/components/icons/Favorite.tsx\nimport { jsx as jsx15 } from \"react/jsx-runtime\";\nfunction Favorite(props) {\n  return /* @__PURE__ */jsx15(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx15(\"path\", {\n      d: \"M63.673 16.52A17.676 17.676 0 0 0 49.197 2.563c-5.4-.861-10.891.852-14.844 4.63a3.43 3.43 0 0 1-4.672 0C22.956.689 12.305.62 5.498 7.039c-6.808 6.419-7.366 17.055-1.268 24.15l24.246 28.894a4.623 4.623 0 0 0 7.078 0L59.8 31.19a17.328 17.328 0 0 0 3.873-14.66v-.008Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/FavoriteOutline.tsx\nimport { jsx as jsx16 } from \"react/jsx-runtime\";\nfunction FavoriteOutline(props) {\n  return /* @__PURE__ */jsx16(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx16(\"path\", {\n      d: \"M5.944 7.206C13.271.3 24.723.34 31.999 7.3A18.924 18.924 0 0 1 48.02 2.32h.008a19.068 19.068 0 0 1 15.617 15.071v.013A18.759 18.759 0 0 1 59.47 33.26L37.573 59.353a7.288 7.288 0 0 1-8.642 1.916 7.276 7.276 0 0 1-2.498-1.912l-21.901-26.1c-6.55-7.671-5.93-19.131 1.408-26.051h.004Zm13.04 1.04a12.726 12.726 0 0 0-9.737 20.997l.021.02 21.905 26.105c.316.372.84.488 1.284.285.143-.066.27-.164.372-.285l21.934-26.137a12.565 12.565 0 0 0 2.808-10.625 12.875 12.875 0 0 0-10.534-10.17 12.714 12.714 0 0 0-10.785 3.37l-.029.029a6.198 6.198 0 0 1-8.444 0l-.037-.033a12.727 12.727 0 0 0-8.758-3.556Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/SpotifyLogo.tsx\nimport { textColor } from \"colorizr\";\nimport { jsx as jsx17 } from \"react/jsx-runtime\";\nfunction SpotifyLogo(_ref13) {\n  var bgColor = _ref13.bgColor,\n    rest = _objectWithoutProperties(_ref13, _excluded2);\n  return /* @__PURE__ */jsx17(\"svg\", _objectSpread(_objectSpread({\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 512 160\",\n    width: \"3.2em\"\n  }, rest), {}, {\n    children: /* @__PURE__ */jsx17(\"path\", {\n      d: \"M79.655 0C35.664 0 0 35.663 0 79.654c0 43.993 35.664 79.653 79.655 79.653 43.996 0 79.656-35.66 79.656-79.653 0-43.988-35.66-79.65-79.657-79.65L79.655 0Zm36.53 114.884a4.963 4.963 0 0 1-6.83 1.646c-18.702-11.424-42.246-14.011-69.973-7.676a4.967 4.967 0 0 1-5.944-3.738 4.958 4.958 0 0 1 3.734-5.945c30.343-6.933 56.37-3.948 77.367 8.884a4.965 4.965 0 0 1 1.645 6.83Zm9.75-21.689c-1.799 2.922-5.622 3.845-8.543 2.047-21.41-13.16-54.049-16.972-79.374-9.284a6.219 6.219 0 0 1-7.75-4.138 6.22 6.22 0 0 1 4.141-7.745c28.929-8.778 64.892-4.526 89.48 10.583 2.92 1.798 3.843 5.622 2.045 8.538Zm.836-22.585C101.1 55.362 58.742 53.96 34.231 61.4c-3.936 1.194-8.098-1.028-9.29-4.964a7.453 7.453 0 0 1 4.965-9.294c28.137-8.542 74.912-6.892 104.469 10.655a7.441 7.441 0 0 1 2.606 10.209c-2.092 3.54-6.677 4.707-10.206 2.605h-.004Zm89.944 2.922c-13.754-3.28-16.198-5.581-16.198-10.418 0-4.57 4.299-7.645 10.7-7.645 6.202 0 12.347 2.336 18.796 7.143.19.145.437.203.675.165a.888.888 0 0 0 .6-.367l6.715-9.466a.903.903 0 0 0-.171-1.225c-7.676-6.157-16.313-9.15-26.415-9.15-14.848 0-25.225 8.911-25.225 21.662 0 13.673 8.95 18.515 24.417 22.252 13.155 3.031 15.38 5.57 15.38 10.11 0 5.032-4.49 8.161-11.718 8.161-8.028 0-14.582-2.71-21.906-9.046a.932.932 0 0 0-.656-.218.89.89 0 0 0-.619.313l-7.533 8.96a.906.906 0 0 0 .086 1.256c8.522 7.61 19.004 11.624 30.323 11.624 16 0 26.339-8.742 26.339-22.277.028-11.421-6.81-17.746-23.561-21.821l-.029-.013Zm59.792-13.564c-6.934 0-12.622 2.732-17.321 8.33v-6.3c0-.498-.4-.903-.894-.903h-12.318a.899.899 0 0 0-.894.902v70.009c0 .494.4.903.894.903h12.318a.901.901 0 0 0 .894-.903v-22.097c4.699 5.26 10.387 7.838 17.32 7.838 12.89 0 25.94-9.92 25.94-28.886.019-18.97-13.032-28.894-25.93-28.894l-.01.001Zm11.614 28.893c0 9.653-5.945 16.397-14.468 16.397-8.418 0-14.772-7.048-14.772-16.397 0-9.35 6.354-16.397 14.772-16.397 8.38 0 14.468 6.893 14.468 16.396Zm47.759-28.893c-16.598 0-29.601 12.78-29.601 29.1 0 16.143 12.917 28.784 29.401 28.784 16.655 0 29.696-12.736 29.696-28.991 0-16.2-12.955-28.89-29.496-28.89v-.003Zm0 45.385c-8.827 0-15.485-7.096-15.485-16.497 0-9.444 6.43-16.298 15.285-16.298 8.884 0 15.58 7.093 15.58 16.504 0 9.443-6.468 16.291-15.38 16.291Zm64.937-44.258h-13.554V47.24c0-.497-.4-.902-.894-.902H374.05a.906.906 0 0 0-.904.902v13.855h-5.916a.899.899 0 0 0-.894.902v10.584a.9.9 0 0 0 .894.903h5.916v27.39c0 11.062 5.508 16.674 16.38 16.674 4.413 0 8.075-.914 11.528-2.873a.88.88 0 0 0 .457-.78v-10.083a.896.896 0 0 0-.428-.76.873.873 0 0 0-.876-.039c-2.368 1.19-4.66 1.741-7.229 1.741-3.947 0-5.716-1.798-5.716-5.812V73.49h13.554a.899.899 0 0 0 .894-.903V62.003a.873.873 0 0 0-.884-.903l-.01-.005Zm47.217.054v-1.702c0-5.006 1.921-7.238 6.22-7.238 2.57 0 4.633.51 6.945 1.28a.895.895 0 0 0 1.18-.858l-.001-10.377a.891.891 0 0 0-.637-.865c-2.435-.726-5.555-1.47-10.235-1.47-11.367 0-17.388 6.405-17.388 18.516v2.606h-5.916a.906.906 0 0 0-.904.902v10.638c0 .497.41.903.904.903h5.916v42.237c0 .504.41.904.904.904h12.308c.504 0 .904-.4.904-.904V73.487h11.5l17.616 42.234c-1.998 4.433-3.967 5.317-6.65 5.317-2.168 0-4.46-.646-6.79-1.93a.98.98 0 0 0-.714-.067.896.896 0 0 0-.533.485l-4.175 9.16a.9.9 0 0 0 .39 1.17c4.356 2.359 8.284 3.367 13.145 3.367 9.093 0 14.125-4.242 18.548-15.637l21.364-55.204a.88.88 0 0 0-.095-.838.878.878 0 0 0-.733-.392h-12.822a.901.901 0 0 0-.856.605l-13.136 37.509-14.382-37.534a.898.898 0 0 0-.837-.58h-21.04v-.003Zm-27.375-.054h-12.318a.907.907 0 0 0-.903.902v53.724c0 .504.409.904.903.904h12.318c.495 0 .904-.4.904-.904v-53.72a.9.9 0 0 0-.904-.903v-.003Zm-6.088-24.464c-4.88 0-8.836 3.95-8.836 8.828a8.835 8.835 0 0 0 8.836 8.836c4.88 0 8.827-3.954 8.827-8.836a8.83 8.83 0 0 0-8.827-8.828Z\",\n      fill: textColor(bgColor)\n    })\n  }));\n}\n\n// src/components/Info.tsx\nimport { jsx as jsx18, jsxs as jsxs4 } from \"react/jsx-runtime\";\nvar imageSize = 64;\nvar iconSize = 32;\nvar Wrapper6 = styled(\"div\")({\n  textAlign: \"left\",\n  \"> a\": {\n    display: \"inline-flex\",\n    textDecoration: \"none\",\n    minHeight: px(64),\n    minWidth: px(64),\n    \"&:hover\": {\n      textDecoration: \"underline\"\n    }\n  },\n  button: {\n    alignItems: \"center\",\n    display: \"flex\",\n    fontSize: px(16),\n    height: px(iconSize + 8),\n    justifyContent: \"center\",\n    width: px(iconSize)\n  }\n}, function (_ref14) {\n  var style = _ref14.style;\n  var isCompactLayout = style.layout === \"compact\";\n  var styles = {};\n  if (isCompactLayout) {\n    styles.borderBottom = \"1px solid \".concat(fade(style.c, 40));\n    styles[\"> a\"] = {\n      display: \"flex\",\n      margin: \"0 auto\",\n      maxWidth: px(640),\n      paddingBottom: \"100%\",\n      position: \"relative\",\n      img: {\n        display: \"block\",\n        bottom: 0,\n        left: 0,\n        maxWidth: \"100%\",\n        position: \"absolute\",\n        right: 0,\n        top: 0\n      }\n    };\n  } else {\n    styles.alignItems = \"center\";\n    styles.display = \"flex\";\n    styles.minHeight = px(80);\n    styles[\"@media (max-width: 767px)\"] = {\n      borderBottom: \"1px solid \".concat(fade(style.c, 40)),\n      paddingLeft: px(8),\n      display: \"none\",\n      width: \"100%\"\n    };\n    styles.img = {\n      height: px(imageSize),\n      width: px(imageSize)\n    };\n    styles[\"&.rswp__active\"] = {\n      \"@media (max-width: 767px)\": {\n        display: \"flex\"\n      }\n    };\n  }\n  return _objectSpread({\n    button: {\n      color: style.c,\n      \"&.rswp__active\": {\n        color: style.activeColor\n      }\n    }\n  }, styles);\n}, \"InfoRSWP\");\nvar ContentWrapper = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n  justifyContent: \"center\",\n  \"> a\": {\n    fontSize: px(22),\n    marginTop: px(4)\n  }\n}, function (_ref15) {\n  var style = _ref15.style;\n  var isCompactLayout = style.layout === \"compact\";\n  var styles = {};\n  if (isCompactLayout) {\n    styles.padding = px(8);\n    styles.width = \"100%\";\n  } else {\n    styles.minHeight = px(imageSize);\n    if (!style.hideCoverArt) {\n      styles.marginLeft = px(8);\n      styles.width = \"calc(100% - \".concat(px(imageSize + 8), \")\");\n    } else {\n      styles.width = \"100%\";\n    }\n  }\n  return styles;\n}, \"ContentWrapperRSWP\");\nvar Content = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"start\",\n  '[data-type=\"title-artist-wrapper\"]': {\n    overflow: \"hidden\",\n    div: {\n      marginLeft: \"-\".concat(px(8)),\n      whiteSpace: \"nowrap\"\n    }\n  },\n  p: {\n    fontSize: px(14),\n    lineHeight: 1.3,\n    paddingLeft: px(8),\n    paddingRight: px(8),\n    width: \"100%\",\n    \"&:nth-of-type(1)\": {\n      alignItems: \"center\",\n      display: \"inline-flex\"\n    },\n    \"&:nth-of-type(2)\": {\n      fontSize: px(12)\n    }\n  },\n  span: {\n    display: \"inline-block\"\n  }\n}, function (_ref16) {\n  var style = _ref16.style;\n  return {\n    '[data-type=\"title-artist-wrapper\"]': {\n      color: style.trackNameColor,\n      maxWidth: \"calc(100% - \".concat(px(style.showSaveIcon ? iconSize : 0), \")\"),\n      div: {\n        \"-webkit-mask-image\": \"linear-gradient(90deg,transparent 0, \".concat(style.bgColor, \" 6px, \").concat(style.bgColor, \" calc(100% - 12px),transparent)\")\n      }\n    },\n    p: {\n      \"&:nth-of-type(1)\": {\n        color: style.trackNameColor,\n        a: {\n          color: style.trackNameColor\n        }\n      },\n      \"&:nth-of-type(2)\": {\n        color: style.trackArtistColor,\n        a: {\n          color: style.trackArtistColor\n        }\n      }\n    }\n  };\n}, \"ContentRSWP\");\nfunction Info(props) {\n  var _ref17, _ref20;\n  var hideAttribution = props.hideAttribution,\n    hideCoverArt = props.hideCoverArt,\n    isActive = props.isActive,\n    layout = props.layout,\n    locale = props.locale,\n    onFavoriteStatusChange = props.onFavoriteStatusChange,\n    showSaveIcon = props.showSaveIcon,\n    _props$styles = props.styles,\n    activeColor = _props$styles.activeColor,\n    bgColor = _props$styles.bgColor,\n    color = _props$styles.color,\n    height = _props$styles.height,\n    trackArtistColor = _props$styles.trackArtistColor,\n    trackNameColor = _props$styles.trackNameColor,\n    token = props.token,\n    _props$track = props.track,\n    _props$track$artists = _props$track.artists,\n    artists = _props$track$artists === void 0 ? [] : _props$track$artists,\n    id = _props$track.id,\n    image = _props$track.image,\n    name = _props$track.name,\n    uri = _props$track.uri,\n    updateSavedStatus = props.updateSavedStatus;\n  var _useState5 = useState3(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isSaved = _useState6[0],\n    setIsSaved = _useState6[1];\n  var isMounted = useRef3(false);\n  var previousId = usePrevious(id);\n  var isCompactLayout = layout === \"compact\";\n  var updateState = function updateState(state) {\n    if (!isMounted.current) {\n      return;\n    }\n    setIsSaved(state);\n  };\n  var setStatus = function setStatus() {\n    return (_ref17 = _ref17 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17() {\n      var status, _ref18, _ref19, isFavorite;\n      return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n        while (1) switch (_context17.prev = _context17.next) {\n          case 0:\n            if (isMounted.current) {\n              _context17.next = 2;\n              break;\n            }\n            return _context17.abrupt(\"return\");\n          case 2:\n            if (updateSavedStatus && id) {\n              updateSavedStatus(function (newStatus) {\n                updateState(newStatus);\n              });\n            }\n            _context17.next = 5;\n            return _checkTracksStatus(token, id);\n          case 5:\n            status = _context17.sent;\n            _ref18 = status || [false], _ref19 = _slicedToArray(_ref18, 1), isFavorite = _ref19[0];\n            updateState(isFavorite);\n            onFavoriteStatusChange(isSaved);\n          case 9:\n          case \"end\":\n            return _context17.stop();\n        }\n      }, _callee17);\n    }))).apply(this, arguments);\n  };\n  useEffect3(function () {\n    isMounted.current = true;\n    if (showSaveIcon && id) {\n      setStatus();\n    }\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  useEffect3(function () {\n    if (showSaveIcon && previousId !== id && id) {\n      updateState(false);\n      setStatus();\n    }\n  });\n  var handleClickIcon = function handleClickIcon() {\n    return (_ref20 = _ref20 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18() {\n      return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n        while (1) switch (_context18.prev = _context18.next) {\n          case 0:\n            if (!isSaved) {\n              _context18.next = 6;\n              break;\n            }\n            _context18.next = 3;\n            return _removeTracks(token, id);\n          case 3:\n            updateState(false);\n            _context18.next = 9;\n            break;\n          case 6:\n            _context18.next = 8;\n            return _saveTracks(token, id);\n          case 8:\n            updateState(true);\n          case 9:\n            onFavoriteStatusChange(!isSaved);\n          case 10:\n          case \"end\":\n            return _context18.stop();\n        }\n      }, _callee18);\n    }))).apply(this, arguments);\n  };\n  var title = getSpotifyLinkTitle(name, locale.title);\n  var favorite;\n  if (showSaveIcon && id) {\n    favorite = /* @__PURE__ */jsx18(\"button\", {\n      \"aria-label\": isSaved ? locale.removeTrack : locale.saveTrack,\n      className: \"ButtonRSWP\".concat(isSaved ? \" rswp__active\" : \"\"),\n      onClick: handleClickIcon,\n      title: isSaved ? locale.removeTrack : locale.saveTrack,\n      type: \"button\",\n      children: isSaved ? /* @__PURE__ */jsx18(Favorite, {}) : /* @__PURE__ */jsx18(FavoriteOutline, {})\n    });\n  }\n  var content = {};\n  var classes = [];\n  if (isActive) {\n    classes.push(\"rswp__active\");\n  }\n  if (isCompactLayout) {\n    content.image = /* @__PURE__ */jsx18(\"img\", {\n      alt: name,\n      src: image\n    });\n  }\n  if (!id) {\n    return /* @__PURE__ */jsx18(\"div\", {});\n  }\n  return /* @__PURE__ */jsxs4(Wrapper6, {\n    className: classes.join(\" \"),\n    \"data-component-name\": \"Info\",\n    style: {\n      activeColor: activeColor,\n      c: color,\n      h: height,\n      layout: layout,\n      showSaveIcon: showSaveIcon\n    },\n    children: [!hideCoverArt && /* @__PURE__ */jsx18(\"a\", {\n      \"aria-label\": title,\n      href: getSpotifyLink(uri),\n      rel: \"noreferrer\",\n      target: \"_blank\",\n      title: title,\n      children: /* @__PURE__ */jsx18(\"img\", {\n        alt: name,\n        src: image\n      })\n    }), /* @__PURE__ */jsxs4(ContentWrapper, {\n      style: {\n        hideCoverArt: hideCoverArt,\n        layout: layout,\n        showSaveIcon: showSaveIcon\n      },\n      children: [!!name && /* @__PURE__ */jsxs4(Content, {\n        style: {\n          bgColor: bgColor,\n          layout: layout,\n          showSaveIcon: showSaveIcon,\n          trackArtistColor: trackArtistColor,\n          trackNameColor: trackNameColor\n        },\n        children: [/* @__PURE__ */jsx18(\"div\", {\n          \"data-type\": \"title-artist-wrapper\",\n          children: /* @__PURE__ */jsxs4(\"div\", {\n            children: [/* @__PURE__ */jsx18(\"p\", {\n              children: /* @__PURE__ */jsx18(\"span\", {\n                children: /* @__PURE__ */jsx18(\"a\", {\n                  \"aria-label\": title,\n                  href: getSpotifyLink(uri),\n                  rel: \"noreferrer\",\n                  target: \"_blank\",\n                  title: title,\n                  children: name\n                })\n              })\n            }), /* @__PURE__ */jsx18(\"p\", {\n              title: artists.map(function (d) {\n                return d.name;\n              }).join(\", \"),\n              children: artists.map(function (artist, index) {\n                var artistTitle = getSpotifyLinkTitle(artist.name, locale.title);\n                return /* @__PURE__ */jsxs4(\"span\", {\n                  children: [index ? \", \" : \"\", /* @__PURE__ */jsx18(\"a\", {\n                    \"aria-label\": artistTitle,\n                    href: getSpotifyLink(artist.uri),\n                    rel: \"noreferrer\",\n                    target: \"_blank\",\n                    title: artistTitle,\n                    children: artist.name\n                  })]\n                }, artist.uri);\n              })\n            })]\n          })\n        }), favorite]\n      }), !hideAttribution && /* @__PURE__ */jsx18(\"a\", {\n        \"aria-label\": \"Play on Spotify\",\n        href: getSpotifyLink(uri),\n        rel: \"noreferrer\",\n        target: \"_blank\",\n        children: /* @__PURE__ */jsx18(SpotifyLogo, {\n          bgColor: bgColor\n        })\n      })]\n    })]\n  });\n}\nvar Info_default = memo5(Info);\n\n// src/components/Loader.tsx\nimport { jsx as jsx19 } from \"react/jsx-runtime\";\nvar Wrapper7 = styled(\"div\")({\n  alignItems: \"center\",\n  display: \"flex\",\n  jsutifyContent: \"center\",\n  position: \"relative\",\n  \"> div\": {\n    borderRadius: \"50%\",\n    borderStyle: \"solid\",\n    borderWidth: 0,\n    boxSizing: \"border-box\",\n    height: 0,\n    left: \"50%\",\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: 0\n  }\n}, function (_ref21) {\n  var style = _ref21.style;\n  var pulse = keyframes({\n    \"0%\": {\n      height: 0,\n      width: 0\n    },\n    \"30%\": {\n      borderWidth: px(8),\n      height: px(style.loaderSize),\n      opacity: 1,\n      width: px(style.loaderSize)\n    },\n    \"100%\": {\n      borderWidth: 0,\n      height: px(style.loaderSize),\n      opacity: 0,\n      width: px(style.loaderSize)\n    }\n  });\n  return {\n    height: px(style.h),\n    \"> div\": {\n      animation: \"\".concat(pulse, \" 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)\"),\n      borderColor: style.loaderColor,\n      height: px(style.loaderSize),\n      width: px(style.loaderSize)\n    }\n  };\n}, \"LoaderRSWP\");\nfunction Loader(_ref22) {\n  var _ref22$styles = _ref22.styles,\n    height = _ref22$styles.height,\n    loaderColor = _ref22$styles.loaderColor,\n    loaderSize = _ref22$styles.loaderSize;\n  return /* @__PURE__ */jsx19(Wrapper7, {\n    \"data-component-name\": \"Loader\",\n    style: {\n      h: height,\n      loaderColor: loaderColor,\n      loaderSize: loaderSize\n    },\n    children: /* @__PURE__ */jsx19(\"div\", {})\n  });\n}\n\n// src/components/Player.tsx\nimport { forwardRef } from \"react\";\nimport { jsx as jsx20 } from \"react/jsx-runtime\";\nvar Player = forwardRef(function (props, ref) {\n  var children = props.children,\n    _props$styles2 = props.styles,\n    bgColor = _props$styles2.bgColor,\n    height = _props$styles2.height,\n    rest = _objectWithoutProperties(props, _excluded3);\n  return /* @__PURE__ */jsx20(\"div\", _objectSpread(_objectSpread({\n    ref: ref,\n    className: \"PlayerRSWP\",\n    \"data-component-name\": \"Player\",\n    style: {\n      background: bgColor,\n      minHeight: px(height)\n    }\n  }, rest), {}, {\n    children: children\n  }));\n});\nvar Player_default = Player;\n\n// src/components/Volume.tsx\nimport { useCallback as useCallback2, useEffect as useEffect4, useRef as useRef4, useState as useState4 } from \"react\";\nimport RangeSlider2 from \"@gilbarbara/react-range-slider\";\n\n// src/components/icons/VolumeHigh.tsx\nimport { jsx as jsx21 } from \"react/jsx-runtime\";\nfunction VolumeHigh(props) {\n  return /* @__PURE__ */jsx21(\"svg\", _objectSpread(_objectSpread({\n    \"data-component-name\": \"VolumeHigh\",\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx21(\"path\", {\n      d: \"M37.963 3.402a2.989 2.989 0 0 1 1.5 2.596v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0ZM45 9.542a23.008 23.008 0 0 1 0 44.912V48.25a17.008 17.008 0 0 0 0-32.508Zm-11.532 1.656-23.2 13.4a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6ZM45 22.238a11 11 0 0 1 0 19.52v-19.52Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/VolumeLow.tsx\nimport { jsx as jsx22 } from \"react/jsx-runtime\";\nfunction VolumeLow(props) {\n  return /* @__PURE__ */jsx22(\"svg\", _objectSpread(_objectSpread({\n    \"data-component-name\": \"VolumeLow\",\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx22(\"path\", {\n      d: \"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 41.758v-19.52a11 11 0 0 1 0 19.52Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/VolumeMid.tsx\nimport { jsx as jsx23 } from \"react/jsx-runtime\";\nfunction VolumeHigh2(props) {\n  return /* @__PURE__ */jsx23(\"svg\", _objectSpread(_objectSpread({\n    \"data-component-name\": \"VolumeMid\",\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx23(\"path\", {\n      d: \"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 48.946a18.008 18.008 0 0 0 0-33.896v6.6a11.996 11.996 0 0 1 0 20.7v6.596Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/icons/VolumeMute.tsx\nimport { jsx as jsx24 } from \"react/jsx-runtime\";\nfunction VolumeMute(props) {\n  return /* @__PURE__ */jsx24(\"svg\", _objectSpread(_objectSpread({\n    \"data-component-name\": \"VolumeMute\",\n    height: \"1em\",\n    preserveAspectRatio: \"xMidYMid\",\n    viewBox: \"0 0 64 64\",\n    width: \"1em\"\n  }, props), {}, {\n    children: /* @__PURE__ */jsx24(\"path\", {\n      d: \"M34.963 3.402a3 3 0 0 1 4.5 2.6v7.624a19.03 19.03 0 0 0-6 2.776v-5.2l-23.2 13.4a8.57 8.57 0 0 0-3.12 3.128 8.564 8.564 0 0 0 3.124 11.68l23.196 13.392v-5.2a18.92 18.92 0 0 0 6 2.776v7.624a3 3 0 0 1-4.5 2.596l-27.7-16a14.556 14.556 0 0 1-5.32-5.328C-2.06 32.313.32 23.428 7.263 19.402l27.7-16Zm17.354 17.6a3 3 0 0 1 2.122 5.12l-5.88 5.88 5.876 5.88a3 3 0 0 1-4.24 4.24l-5.88-5.88-5.88 5.88a3 3 0 1 1-4.385-4.095l6.025-6.025-5.876-5.88a3 3 0 0 1 4.236-4.24l5.88 5.88 5.88-5.88a3 3 0 0 1 2.122-.88Z\",\n      fill: \"currentColor\"\n    })\n  }));\n}\n\n// src/components/Volume.tsx\nimport { jsx as jsx25, jsxs as jsxs5 } from \"react/jsx-runtime\";\nvar WrapperWithToggle = styled(\"div\")({\n  display: \"none\",\n  \"pointer-events\": \"all\",\n  position: \"relative\",\n  zIndex: 20,\n  \"> div\": {\n    alignItems: \"center\",\n    backgroundColor: \"#000\",\n    borderRadius: px(4),\n    color: \"#fff\",\n    display: \"flex\",\n    filter: \"drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))\",\n    flexDirection: \"column\",\n    left: \"-4px\",\n    padding: px(16),\n    position: \"absolute\",\n    \"> span\": {\n      background: \"transparent\",\n      borderLeft: \"6px solid transparent\",\n      borderRight: \"6px solid transparent\",\n      content: '\"\"',\n      display: \"block\",\n      height: 0,\n      position: \"absolute\",\n      width: 0\n    }\n  },\n  \"> button\": {\n    alignItems: \"center\",\n    display: \"flex\",\n    fontSize: px(24),\n    height: px(32),\n    justifyContent: \"center\",\n    width: px(32)\n  },\n  \"@media (any-pointer: fine)\": {\n    display: \"block\"\n  }\n}, function (_ref23) {\n  var _ref24, _div;\n  var style = _ref23.style;\n  var isCompact = style.layout === \"compact\";\n  var spanStyles = isCompact ? {\n    bottom: \"-\".concat(px(6)),\n    borderTop: \"6px solid #000\"\n  } : (_ref24 = {}, _defineProperty(_ref24, style.p === \"top\" ? \"border-bottom\" : \"border-top\", \"6px solid #000\"), _defineProperty(_ref24, style.p, \"-6px\"), _ref24);\n  return {\n    \"> button\": {\n      color: style.c\n    },\n    \"> div\": (_div = {}, _defineProperty(_div, isCompact ? \"bottom\" : style.p, \"130%\"), _defineProperty(_div, \"> span\", spanStyles), _div)\n  };\n}, \"VolumeRSWP\");\nvar WrapperInline = styled(\"div\")({\n  display: \"none\",\n  padding: \"0 \".concat(px(8)),\n  \"pointer-events\": \"all\",\n  \"> div\": {\n    display: \"flex\",\n    padding: \"0 \".concat(px(5)),\n    width: px(100)\n  },\n  \"> span\": {\n    display: \"flex\",\n    fontSize: px(24)\n  },\n  \"@media (any-pointer: fine)\": {\n    alignItems: \"center\",\n    display: \"flex\"\n  }\n}, function (_ref25) {\n  var style = _ref25.style;\n  return {\n    color: style.c\n  };\n}, \"VolumeInlineRSWP\");\nfunction Volume(props) {\n  var inlineVolume = props.inlineVolume,\n    layout = props.layout,\n    locale = props.locale,\n    playerPosition = props.playerPosition,\n    setVolume2 = props.setVolume,\n    styles = props.styles,\n    volume = props.volume;\n  var _useState7 = useState4(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isOpen = _useState8[0],\n    setIsOpen = _useState8[1];\n  var _useState9 = useState4(volume),\n    _useState10 = _slicedToArray(_useState9, 2),\n    volumeState = _useState10[0],\n    setVolumeState = _useState10[1];\n  var timeoutRef = useRef4();\n  var previousVolume = usePrevious(volume);\n  var isMediumScreen = useMediaQuery(\"(min-width: 768px)\");\n  var isInline = layout === \"responsive\" && inlineVolume && isMediumScreen;\n  useEffect4(function () {\n    if (previousVolume !== volume && volume !== volumeState) {\n      setVolumeState(volume);\n    }\n  }, [previousVolume, volume, volumeState]);\n  var handleClickToggleList = useCallback2(function () {\n    setIsOpen(function (s) {\n      return !s;\n    });\n  }, []);\n  var handleChangeSlider = function handleChangeSlider(_ref26) {\n    var x = _ref26.x,\n      y = _ref26.y;\n    var value = isInline ? x : y;\n    var currentvolume = Math.round(value) / 100;\n    clearTimeout(timeoutRef.current);\n    timeoutRef.current = window.setTimeout(function () {\n      setVolume2(currentvolume);\n    }, 250);\n    setVolumeState(currentvolume);\n  };\n  var handleAfterEnd = function handleAfterEnd() {\n    setTimeout(function () {\n      setIsOpen(false);\n    }, 100);\n  };\n  var icon = /* @__PURE__ */jsx25(VolumeHigh, {});\n  if (volume === 0) {\n    icon = /* @__PURE__ */jsx25(VolumeMute, {});\n  } else if (volume <= 0.4) {\n    icon = /* @__PURE__ */jsx25(VolumeLow, {});\n  } else if (volume <= 0.7) {\n    icon = /* @__PURE__ */jsx25(VolumeHigh2, {});\n  }\n  if (isInline) {\n    return /* @__PURE__ */jsxs5(WrapperInline, {\n      \"data-component-name\": \"Volume\",\n      \"data-value\": volume,\n      style: {\n        c: styles.color\n      },\n      children: [/* @__PURE__ */jsx25(\"span\", {\n        children: icon\n      }), /* @__PURE__ */jsx25(\"div\", {\n        children: /* @__PURE__ */jsx25(RangeSlider2, {\n          axis: \"x\",\n          className: \"volume\",\n          \"data-component-name\": \"volume-bar\",\n          onAfterEnd: handleAfterEnd,\n          onChange: handleChangeSlider,\n          styles: {\n            options: {\n              thumbBorder: 0,\n              thumbBorderRadius: styles.sliderHandleBorderRadius,\n              thumbColor: styles.sliderHandleColor,\n              height: 4,\n              padding: 0,\n              rangeColor: styles.sliderColor,\n              trackBorderRadius: styles.sliderTrackBorderRadius,\n              trackColor: styles.sliderTrackColor\n            }\n          },\n          x: volume * 100,\n          xMax: 100,\n          xMin: 0\n        })\n      })]\n    });\n  }\n  return /* @__PURE__ */jsx25(ClickOutside_default, {\n    isActive: isOpen,\n    onClick: handleClickToggleList,\n    children: /* @__PURE__ */jsxs5(WrapperWithToggle, {\n      \"data-component-name\": \"Volume\",\n      \"data-value\": volume,\n      style: {\n        c: styles.color,\n        layout: layout,\n        p: playerPosition\n      },\n      children: [isOpen && /* @__PURE__ */jsxs5(\"div\", {\n        children: [/* @__PURE__ */jsx25(RangeSlider2, {\n          axis: \"y\",\n          className: \"volume\",\n          \"data-component-name\": \"volume-bar\",\n          onAfterEnd: handleAfterEnd,\n          onChange: handleChangeSlider,\n          styles: {\n            options: {\n              padding: 0,\n              rangeColor: \"#fff\",\n              thumbBorder: 0,\n              thumbBorderRadius: 12,\n              thumbColor: \"#fff\",\n              thumbSize: 12,\n              trackColor: \"rgba(255, 255, 255, 0.5)\",\n              width: 6\n            }\n          },\n          y: volume * 100,\n          yMax: 100,\n          yMin: 0\n        }), /* @__PURE__ */jsx25(\"span\", {})]\n      }), /* @__PURE__ */jsx25(\"button\", {\n        \"aria-label\": locale.volume,\n        className: \"ButtonRSWP\",\n        onClick: handleClickToggleList,\n        title: locale.volume,\n        type: \"button\",\n        children: icon\n      })]\n    })\n  });\n}\n\n// src/components/Wrapper.tsx\nimport { memo as memo6 } from \"react\";\nimport { jsx as jsx26 } from \"react/jsx-runtime\";\nvar StyledWrapper = styled(\"div\")({\n  alignItems: \"center\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  flexWrap: \"wrap\",\n  justifyContent: \"center\",\n  position: \"relative\",\n  \"> *\": {\n    width: \"100%\"\n  }\n}, function (_ref27) {\n  var style = _ref27.style;\n  var styles = {};\n  if (style.layout === \"responsive\") {\n    styles = {\n      \"> *\": {\n        \"@media (min-width: 768px)\": {\n          width: \"33.3333%\"\n        }\n      },\n      \"@media (min-width: 768px)\": {\n        flexDirection: \"row\",\n        padding: \"0 \".concat(px(8))\n      }\n    };\n  }\n  return _objectSpread({\n    minHeight: px(style.h)\n  }, styles);\n}, \"WrapperRSWP\");\nfunction Wrapper8(props) {\n  var children = props.children,\n    layout = props.layout,\n    styles = props.styles;\n  return /* @__PURE__ */jsx26(StyledWrapper, {\n    \"data-component-name\": \"Wrapper\",\n    style: {\n      h: styles.height,\n      layout: layout\n    },\n    children: children\n  });\n}\nvar Wrapper_default = memo6(Wrapper8);\n\n// src/constants.ts\nvar ERROR_TYPE = {\n  ACCOUNT: \"account\",\n  AUTHENTICATION: \"authentication\",\n  INITIALIZATION: \"initialization\",\n  PLAYBACK: \"playback\",\n  PLAYER: \"player\"\n};\nvar STATUS = {\n  ERROR: \"ERROR\",\n  IDLE: \"IDLE\",\n  INITIALIZING: \"INITIALIZING\",\n  READY: \"READY\",\n  RUNNING: \"RUNNING\",\n  UNSUPPORTED: \"UNSUPPORTED\"\n};\nvar TYPE = {\n  DEVICE: \"device_update\",\n  FAVORITE: \"favorite_update\",\n  PLAYER: \"player_update\",\n  PROGRESS: \"progress_update\",\n  STATUS: \"status_update\",\n  TRACK: \"track_update\"\n};\n\n// src/index.tsx\nimport { jsx as jsx27, jsxs as jsxs6 } from \"react/jsx-runtime\";\nput(\".PlayerRSWP\", {\n  boxSizing: \"border-box\",\n  fontSize: \"inherit\",\n  width: \"100%\",\n  \"*\": {\n    boxSizing: \"border-box\"\n  },\n  p: {\n    margin: 0\n  }\n});\nput(\".ButtonRSWP\", {\n  appearance: \"none\",\n  background: \"transparent\",\n  border: 0,\n  borderRadius: 0,\n  color: \"inherit\",\n  cursor: \"pointer\",\n  display: \"inline-flex\",\n  lineHeight: 1,\n  padding: 0,\n  \":focus\": {\n    outlineColor: \"#000\",\n    outlineOffset: 3\n  }\n});\nvar SpotifyWebPlayer = (_class = /*#__PURE__*/function (_PureComponent, _componentDidMount, _componentDidUpdate, _componentWillUnmount, _initializeDevices, _toggleSyncInterval) {\n  _inherits(SpotifyWebPlayer, _PureComponent);\n  var _super = _createSuper(SpotifyWebPlayer);\n  function SpotifyWebPlayer(props) {\n    var _ref28, _ref32, _ref33, _ref34, _ref36, _ref38;\n    var _this;\n    _classCallCheck(this, SpotifyWebPlayer);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"isMounted\", false);\n    _defineProperty(_assertThisInitialized(_this), \"emptyTrack\", {\n      artists: [],\n      durationMs: 0,\n      id: \"\",\n      image: \"\",\n      name: \"\",\n      uri: \"\"\n    });\n    _defineProperty(_assertThisInitialized(_this), \"locale\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"player\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"playerProgressInterval\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"playerSyncInterval\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"ref\", createRef());\n    _defineProperty(_assertThisInitialized(_this), \"renderInlineActions\", false);\n    _defineProperty(_assertThisInitialized(_this), \"resizeTimeout\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"seekUpdateInterval\", 100);\n    _defineProperty(_assertThisInitialized(_this), \"styles\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"syncTimeout\", void 0);\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    _defineProperty(_assertThisInitialized(_this), \"getPlayOptions\", memoize(function (ids) {\n      var playOptions = {\n        context_uri: void 0,\n        uris: void 0\n      };\n      if (ids) {\n        if (!ids.every(function (d) {\n          return validateURI(d);\n        })) {\n          return playOptions;\n        }\n        if (ids.some(function (d) {\n          return getSpotifyURIType(d) === \"track\";\n        })) {\n          if (!ids.every(function (d) {\n            return getSpotifyURIType(d) === \"track\";\n          })) {\n            console.warn(\"You can't mix tracks URIs with other types\");\n          }\n          playOptions.uris = ids.filter(function (d) {\n            return validateURI(d) && getSpotifyURIType(d) === \"track\";\n          });\n        } else {\n          if (ids.length > 1) {\n            console.warn(\"Albums, Artists, Playlists and Podcasts can't have multiple URIs\");\n          }\n          playOptions.context_uri = ids[0];\n        }\n      }\n      return playOptions;\n    }));\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeRange\", function (_x34) {\n      return (_ref28 = _ref28 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(position) {\n        var track, callback, progress, percentage, stateChanges, state;\n        return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n          while (1) switch (_context19.prev = _context19.next) {\n            case 0:\n              track = _this.state.track;\n              callback = _this.props.callback;\n              progress = 0;\n              _context19.prev = 3;\n              percentage = position / 100;\n              stateChanges = {};\n              if (!_this.isExternalPlayer) {\n                _context19.next = 13;\n                break;\n              }\n              progress = Math.round(track.durationMs * percentage);\n              _context19.next = 10;\n              return _seek(_this.token, progress);\n            case 10:\n              stateChanges = {\n                position: position,\n                progressMs: progress\n              };\n              _context19.next = 25;\n              break;\n            case 13:\n              if (!_this.player) {\n                _context19.next = 25;\n                break;\n              }\n              _context19.next = 16;\n              return _this.player.getCurrentState();\n            case 16:\n              state = _context19.sent;\n              if (!state) {\n                _context19.next = 24;\n                break;\n              }\n              progress = Math.round(state.track_window.current_track.duration_ms * percentage);\n              _context19.next = 21;\n              return _this.player.seek(progress);\n            case 21:\n              stateChanges = {\n                position: position,\n                progressMs: progress\n              };\n              _context19.next = 25;\n              break;\n            case 24:\n              stateChanges = {\n                position: 0\n              };\n            case 25:\n              _this.updateState(stateChanges);\n              if (callback) {\n                callback(_objectSpread(_objectSpread(_objectSpread({}, _this.state), stateChanges), {}, {\n                  type: TYPE.PROGRESS\n                }));\n              }\n              _context19.next = 32;\n              break;\n            case 29:\n              _context19.prev = 29;\n              _context19.t0 = _context19[\"catch\"](3);\n              console.error(_context19.t0);\n            case 32:\n            case \"end\":\n              return _context19.stop();\n          }\n        }, _callee19, null, [[3, 29]]);\n      }))).apply(this, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleClickTogglePlay\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20() {\n      var isActive;\n      return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n        while (1) switch (_context20.prev = _context20.next) {\n          case 0:\n            isActive = _this.state.isActive;\n            _context20.prev = 1;\n            _context20.next = 4;\n            return _this.togglePlay(!_this.isExternalPlayer && !isActive);\n          case 4:\n            _context20.next = 9;\n            break;\n          case 6:\n            _context20.prev = 6;\n            _context20.t0 = _context20[\"catch\"](1);\n            console.error(_context20.t0);\n          case 9:\n          case \"end\":\n            return _context20.stop();\n        }\n      }, _callee20, null, [[1, 6]]);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"handleClickPrevious\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21() {\n      return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n        while (1) switch (_context21.prev = _context21.next) {\n          case 0:\n            _context21.prev = 0;\n            if (!_this.isExternalPlayer) {\n              _context21.next = 7;\n              break;\n            }\n            _context21.next = 4;\n            return _previous(_this.token);\n          case 4:\n            _this.syncTimeout = window.setTimeout(function () {\n              _this.syncDevice();\n            }, 300);\n            _context21.next = 10;\n            break;\n          case 7:\n            if (!_this.player) {\n              _context21.next = 10;\n              break;\n            }\n            _context21.next = 10;\n            return _this.player.previousTrack();\n          case 10:\n            _context21.next = 15;\n            break;\n          case 12:\n            _context21.prev = 12;\n            _context21.t0 = _context21[\"catch\"](0);\n            console.error(_context21.t0);\n          case 15:\n          case \"end\":\n            return _context21.stop();\n        }\n      }, _callee21, null, [[0, 12]]);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"handleClickNext\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22() {\n      return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n        while (1) switch (_context22.prev = _context22.next) {\n          case 0:\n            _context22.prev = 0;\n            if (!_this.isExternalPlayer) {\n              _context22.next = 7;\n              break;\n            }\n            _context22.next = 4;\n            return _next(_this.token);\n          case 4:\n            _this.syncTimeout = window.setTimeout(function () {\n              _this.syncDevice();\n            }, 300);\n            _context22.next = 10;\n            break;\n          case 7:\n            if (!_this.player) {\n              _context22.next = 10;\n              break;\n            }\n            _context22.next = 10;\n            return _this.player.nextTrack();\n          case 10:\n            _context22.next = 15;\n            break;\n          case 12:\n            _context22.prev = 12;\n            _context22.t0 = _context22[\"catch\"](0);\n            console.error(_context22.t0);\n          case 15:\n          case \"end\":\n            return _context22.stop();\n        }\n      }, _callee22, null, [[0, 12]]);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"handleClickDevice\", function (_x35) {\n      return (_ref32 = _ref32 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(deviceId) {\n        var isUnsupported, _this$props, autoPlay, persistDeviceSelection, playerState;\n        return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n          while (1) switch (_context23.prev = _context23.next) {\n            case 0:\n              isUnsupported = _this.state.isUnsupported;\n              _this$props = _this.props, autoPlay = _this$props.autoPlay, persistDeviceSelection = _this$props.persistDeviceSelection;\n              _this.updateState({\n                currentDeviceId: deviceId\n              });\n              _context23.prev = 3;\n              _context23.next = 6;\n              return _setDevice(_this.token, deviceId);\n            case 6:\n              if (persistDeviceSelection) {\n                sessionStorage.setItem(\"rswpDeviceId\", deviceId);\n              }\n              if (!isUnsupported) {\n                _context23.next = 16;\n                break;\n              }\n              _context23.next = 10;\n              return _this.syncDevice();\n            case 10:\n              _context23.next = 12;\n              return _getPlaybackState(_this.token);\n            case 12:\n              playerState = _context23.sent;\n              if (!(playerState && !playerState.is_playing && autoPlay)) {\n                _context23.next = 16;\n                break;\n              }\n              _context23.next = 16;\n              return _this.togglePlay(true);\n            case 16:\n              _context23.next = 21;\n              break;\n            case 18:\n              _context23.prev = 18;\n              _context23.t0 = _context23[\"catch\"](3);\n              console.error(_context23.t0);\n            case 21:\n            case \"end\":\n              return _context23.stop();\n          }\n        }, _callee23, null, [[3, 18]]);\n      }))).apply(this, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleFavoriteStatusChange\", function (status) {\n      var isSaved = _this.state.isSaved;\n      _this.updateState({\n        isSaved: status\n      });\n      if (isSaved !== status) {\n        _this.handleCallback(_objectSpread(_objectSpread({}, _this.state), {}, {\n          isSaved: status,\n          type: TYPE.FAVORITE\n        }));\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handlePlayerErrors\", function (_x36, _x37) {\n      return (_ref33 = _ref33 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(type, message) {\n        var status, isPlaybackError, isInitializationError, nextStatus, devices, _yield$_getDevices, _yield$_getDevices$de;\n        return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n          while (1) switch (_context24.prev = _context24.next) {\n            case 0:\n              status = _this.state.status;\n              isPlaybackError = type === ERROR_TYPE.PLAYBACK;\n              isInitializationError = type === ERROR_TYPE.INITIALIZATION;\n              nextStatus = status;\n              devices = [];\n              if (_this.player && !isPlaybackError) {\n                _this.player.disconnect();\n                _this.player = void 0;\n              }\n              if (!isInitializationError) {\n                _context24.next = 15;\n                break;\n              }\n              nextStatus = STATUS.UNSUPPORTED;\n              _context24.next = 10;\n              return _getDevices(_this.token);\n            case 10:\n              _yield$_getDevices = _context24.sent;\n              _yield$_getDevices$de = _yield$_getDevices.devices;\n              devices = _yield$_getDevices$de === void 0 ? [] : _yield$_getDevices$de;\n              _context24.next = 16;\n              break;\n            case 15:\n              if (!isPlaybackError) {\n                nextStatus = STATUS.ERROR;\n              }\n            case 16:\n              _this.updateState({\n                devices: devices,\n                error: message,\n                errorType: type,\n                isInitializing: false,\n                isUnsupported: isInitializationError,\n                status: nextStatus\n              });\n            case 17:\n            case \"end\":\n              return _context24.stop();\n          }\n        }, _callee24);\n      }))).apply(this, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handlePlayerStateChanges\", function (_x38) {\n      return (_ref34 = _ref34 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(state) {\n        var _yield$_this$player$g, _this$player, paused, position, repeat_mode, shuffle2, _state$track_window, current_track, next_tracks, previous_tracks, isPlaying, volume, trackState;\n        return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n          while (1) switch (_context25.prev = _context25.next) {\n            case 0:\n              _context25.prev = 0;\n              if (!state) {\n                _context25.next = 21;\n                break;\n              }\n              paused = state.paused, position = state.position, repeat_mode = state.repeat_mode, shuffle2 = state.shuffle, _state$track_window = state.track_window, current_track = _state$track_window.current_track, next_tracks = _state$track_window.next_tracks, previous_tracks = _state$track_window.previous_tracks;\n              isPlaying = !paused;\n              _context25.next = 6;\n              return (_this$player = _this.player) === null || _this$player === void 0 ? void 0 : _this$player.getVolume();\n            case 6:\n              _context25.t1 = _yield$_this$player$g = _context25.sent;\n              _context25.t0 = _context25.t1 !== null;\n              if (!_context25.t0) {\n                _context25.next = 10;\n                break;\n              }\n              _context25.t0 = _yield$_this$player$g !== void 0;\n            case 10:\n              if (!_context25.t0) {\n                _context25.next = 14;\n                break;\n              }\n              _context25.t2 = _yield$_this$player$g;\n              _context25.next = 15;\n              break;\n            case 14:\n              _context25.t2 = 100;\n            case 15:\n              volume = _context25.t2;\n              trackState = {};\n              if (position === 0 && current_track) {\n                trackState = {\n                  nextTracks: next_tracks.map(convertTrack),\n                  position: 0,\n                  previousTracks: previous_tracks.map(convertTrack),\n                  track: convertTrack(current_track)\n                };\n              }\n              _this.updateState(_objectSpread({\n                error: \"\",\n                errorType: null,\n                isActive: true,\n                isPlaying: isPlaying,\n                progressMs: position,\n                repeat: getRepeatState(repeat_mode),\n                shuffle: shuffle2,\n                volume: round(volume)\n              }, trackState));\n              _context25.next = 27;\n              break;\n            case 21:\n              if (!_this.isExternalPlayer) {\n                _context25.next = 26;\n                break;\n              }\n              _context25.next = 24;\n              return _this.syncDevice();\n            case 24:\n              _context25.next = 27;\n              break;\n            case 26:\n              _this.updateState({\n                isActive: false,\n                isPlaying: false,\n                nextTracks: [],\n                position: 0,\n                previousTracks: [],\n                track: {\n                  artists: [],\n                  durationMs: 0,\n                  id: \"\",\n                  image: \"\",\n                  name: \"\",\n                  uri: \"\"\n                }\n              });\n            case 27:\n              _context25.next = 32;\n              break;\n            case 29:\n              _context25.prev = 29;\n              _context25.t3 = _context25[\"catch\"](0);\n              console.error(_context25.t3);\n            case 32:\n            case \"end\":\n              return _context25.stop();\n          }\n        }, _callee25, null, [[0, 29]]);\n      }))).apply(this, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handlePlayerStatus\", function (_x39) {\n      return (_ref36 = _ref36 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(_ref35) {\n        var device_id, _yield$_this$initiali, currentDeviceId, devices;\n        return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n          while (1) switch (_context26.prev = _context26.next) {\n            case 0:\n              device_id = _ref35.device_id;\n              _context26.next = 3;\n              return _this.initializeDevices(device_id);\n            case 3:\n              _yield$_this$initiali = _context26.sent;\n              currentDeviceId = _yield$_this$initiali.currentDeviceId;\n              devices = _yield$_this$initiali.devices;\n              _this.updateState({\n                currentDeviceId: currentDeviceId,\n                deviceId: device_id,\n                devices: devices,\n                isInitializing: false,\n                status: device_id ? STATUS.READY : STATUS.IDLE\n              });\n            case 7:\n            case \"end\":\n              return _context26.stop();\n          }\n        }, _callee26);\n      }))).apply(this, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleResize\", function () {\n      var _this$props$layout = _this.props.layout,\n        layout = _this$props$layout === void 0 ? \"responsive\" : _this$props$layout;\n      clearTimeout(_this.resizeTimeout);\n      _this.resizeTimeout = window.setTimeout(function () {\n        _this.renderInlineActions = window.innerWidth >= 768 && layout === \"responsive\";\n        _this.forceUpdate();\n      }, 100);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleToggleMagnify\", function () {\n      var magnifySliderOnHover = _this.props.magnifySliderOnHover;\n      if (magnifySliderOnHover) {\n        _this.updateState(function (previousState) {\n          return {\n            isMagnified: !previousState.isMagnified\n          };\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"initializePlayer\", function () {\n      var volume = _this.state.volume;\n      var _this$props2 = _this.props,\n        _this$props2$getOAuth = _this$props2.getOAuthToken,\n        getOAuthToken = _this$props2$getOAuth === void 0 ? function (callback) {\n          callback(_this.token);\n        } : _this$props2$getOAuth,\n        getPlayer = _this$props2.getPlayer,\n        _this$props2$name = _this$props2.name,\n        name = _this$props2$name === void 0 ? \"Spotify Web Player\" : _this$props2$name;\n      if (!window.Spotify) {\n        return;\n      }\n      _this.updateState({\n        error: \"\",\n        errorType: null,\n        isInitializing: true\n      });\n      _this.player = new window.Spotify.Player({\n        getOAuthToken: getOAuthToken,\n        name: name,\n        volume: volume\n      });\n      _this.player.addListener(\"ready\", _this.handlePlayerStatus);\n      _this.player.addListener(\"not_ready\", _this.handlePlayerStatus);\n      _this.player.addListener(\"player_state_changed\", _this.handlePlayerStateChanges);\n      _this.player.addListener(\"initialization_error\", function (error) {\n        return _this.handlePlayerErrors(ERROR_TYPE.INITIALIZATION, error.message);\n      });\n      _this.player.addListener(\"authentication_error\", function (error) {\n        return _this.handlePlayerErrors(ERROR_TYPE.AUTHENTICATION, error.message);\n      });\n      _this.player.addListener(\"account_error\", function (error) {\n        return _this.handlePlayerErrors(ERROR_TYPE.ACCOUNT, error.message);\n      });\n      _this.player.addListener(\"playback_error\", function (error) {\n        return _this.handlePlayerErrors(ERROR_TYPE.PLAYBACK, error.message);\n      });\n      _this.player.addListener(\"autoplay_failed\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27() {\n        return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n          while (1) switch (_context27.prev = _context27.next) {\n            case 0:\n              console.log(\"Autoplay is not allowed by the browser autoplay rules\");\n            case 1:\n            case \"end\":\n              return _context27.stop();\n          }\n        }, _callee27);\n      })));\n      _this.player.connect();\n      if (getPlayer) {\n        getPlayer(_this.player);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setExternalDevice\", function (id) {\n      _this.updateState({\n        currentDeviceId: id,\n        isPlaying: true\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setVolume\", function (_x40) {\n      return (_ref38 = _ref38 || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(volume) {\n        return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n          while (1) switch (_context28.prev = _context28.next) {\n            case 0:\n              if (!_this.isExternalPlayer) {\n                _context28.next = 7;\n                break;\n              }\n              _context28.next = 3;\n              return _setVolume(_this.token, Math.round(volume * 100));\n            case 3:\n              _context28.next = 5;\n              return _this.syncDevice();\n            case 5:\n              _context28.next = 10;\n              break;\n            case 7:\n              if (!_this.player) {\n                _context28.next = 10;\n                break;\n              }\n              _context28.next = 10;\n              return _this.player.setVolume(volume);\n            case 10:\n              _this.updateState({\n                volume: volume\n              });\n            case 11:\n            case \"end\":\n              return _context28.stop();\n          }\n        }, _callee28);\n      }))).apply(this, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"syncDevice\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29() {\n      var deviceId, _playerState$progress, playerState, track, state;\n      return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n        while (1) switch (_context29.prev = _context29.next) {\n          case 0:\n            if (_this.isMounted) {\n              _context29.next = 2;\n              break;\n            }\n            return _context29.abrupt(\"return\");\n          case 2:\n            deviceId = _this.state.deviceId;\n            _context29.prev = 3;\n            _context29.next = 6;\n            return _getPlaybackState(_this.token);\n          case 6:\n            playerState = _context29.sent;\n            track = _this.emptyTrack;\n            if (playerState) {\n              _context29.next = 10;\n              break;\n            }\n            throw new Error(\"No player\");\n          case 10:\n            if (playerState.item) {\n              track = {\n                artists: \"artists\" in playerState.item ? playerState.item.artists : [],\n                durationMs: playerState.item.duration_ms,\n                id: playerState.item.id,\n                image: \"album\" in playerState.item ? getAlbumImage(playerState.item.album) : \"\",\n                name: playerState.item.name,\n                uri: playerState.item.uri\n              };\n            }\n            _this.updateState({\n              error: \"\",\n              errorType: null,\n              isActive: true,\n              isPlaying: playerState.is_playing,\n              nextTracks: [],\n              previousTracks: [],\n              progressMs: playerState.item ? (_playerState$progress = playerState.progress_ms) !== null && _playerState$progress !== void 0 ? _playerState$progress : 0 : 0,\n              status: STATUS.READY,\n              track: track,\n              volume: parseVolume(playerState.device.volume_percent)\n            });\n            _context29.next = 21;\n            break;\n          case 14:\n            _context29.prev = 14;\n            _context29.t0 = _context29[\"catch\"](3);\n            state = {\n              isActive: false,\n              isPlaying: false,\n              position: 0,\n              track: _this.emptyTrack\n            };\n            if (!deviceId) {\n              _context29.next = 20;\n              break;\n            }\n            _this.updateState(_objectSpread({\n              currentDeviceId: deviceId\n            }, state));\n            return _context29.abrupt(\"return\");\n          case 20:\n            _this.updateState(_objectSpread({\n              error: _context29.t0.message,\n              errorType: ERROR_TYPE.PLAYER,\n              status: STATUS.ERROR\n            }, state));\n          case 21:\n          case \"end\":\n            return _context29.stop();\n        }\n      }, _callee29, null, [[3, 14]]);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"toggleOffset\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30() {\n      var currentDeviceId, _this$props3, offset, uris;\n      return _regeneratorRuntime().wrap(function _callee30$(_context30) {\n        while (1) switch (_context30.prev = _context30.next) {\n          case 0:\n            currentDeviceId = _this.state.currentDeviceId;\n            _this$props3 = _this.props, offset = _this$props3.offset, uris = _this$props3.uris;\n            if (!(typeof offset === \"number\")) {\n              _context30.next = 5;\n              break;\n            }\n            _context30.next = 5;\n            return _play(_this.token, {\n              deviceId: currentDeviceId,\n              offset: offset,\n              uris: getURIs(uris)\n            });\n          case 5:\n          case \"end\":\n            return _context30.stop();\n        }\n      }, _callee30);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"togglePlay\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31() {\n      var force,\n        _this$state,\n        currentDeviceId,\n        isPlaying,\n        needsUpdate,\n        _this$props4,\n        offset,\n        uris,\n        shouldInitialize,\n        playOptions,\n        _playOptions$context_,\n        playerState,\n        shouldPlay,\n        _args16 = arguments;\n      return _regeneratorRuntime().wrap(function _callee31$(_context31) {\n        while (1) switch (_context31.prev = _context31.next) {\n          case 0:\n            force = _args16.length > 0 && _args16[0] !== undefined ? _args16[0] : false;\n            _this$state = _this.state, currentDeviceId = _this$state.currentDeviceId, isPlaying = _this$state.isPlaying, needsUpdate = _this$state.needsUpdate;\n            _this$props4 = _this.props, offset = _this$props4.offset, uris = _this$props4.uris;\n            shouldInitialize = force || needsUpdate;\n            playOptions = _this.getPlayOptions(getURIs(uris));\n            _context31.prev = 5;\n            if (!_this.isExternalPlayer) {\n              _context31.next = 18;\n              break;\n            }\n            if (isPlaying) {\n              _context31.next = 12;\n              break;\n            }\n            _context31.next = 10;\n            return _play(_this.token, _objectSpread({\n              deviceId: currentDeviceId,\n              offset: offset\n            }, shouldInitialize ? playOptions : void 0));\n          case 10:\n            _context31.next = 15;\n            break;\n          case 12:\n            _context31.next = 14;\n            return _pause(_this.token);\n          case 14:\n            _this.updateState({\n              isPlaying: false\n            });\n          case 15:\n            _this.syncTimeout = window.setTimeout(function () {\n              _this.syncDevice();\n            }, 300);\n            _context31.next = 34;\n            break;\n          case 18:\n            if (!_this.player) {\n              _context31.next = 34;\n              break;\n            }\n            _context31.next = 21;\n            return _this.player.activateElement();\n          case 21:\n            _context31.next = 23;\n            return _this.player.getCurrentState();\n          case 23:\n            playerState = _context31.sent;\n            shouldPlay = !playerState && !!((_playOptions$context_ = playOptions.context_uri) !== null && _playOptions$context_ !== void 0 ? _playOptions$context_ : playOptions.uris);\n            if (!(shouldPlay || shouldInitialize)) {\n              _context31.next = 32;\n              break;\n            }\n            _context31.next = 28;\n            return _play(_this.token, _objectSpread({\n              deviceId: currentDeviceId,\n              offset: offset\n            }, shouldInitialize ? playOptions : void 0));\n          case 28:\n            _context31.next = 30;\n            return _this.player.togglePlay();\n          case 30:\n            _context31.next = 34;\n            break;\n          case 32:\n            _context31.next = 34;\n            return _this.player.togglePlay();\n          case 34:\n            if (needsUpdate) {\n              _this.updateState({\n                needsUpdate: false\n              });\n            }\n            _context31.next = 40;\n            break;\n          case 37:\n            _context31.prev = 37;\n            _context31.t0 = _context31[\"catch\"](5);\n            console.error(_context31.t0);\n          case 40:\n          case \"end\":\n            return _context31.stop();\n        }\n      }, _callee31, null, [[5, 37]]);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"updateSeekBar\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32() {\n      var _this$state2, progressMs, track, position, state, progress, _position;\n      return _regeneratorRuntime().wrap(function _callee32$(_context32) {\n        while (1) switch (_context32.prev = _context32.next) {\n          case 0:\n            if (_this.isMounted) {\n              _context32.next = 2;\n              break;\n            }\n            return _context32.abrupt(\"return\");\n          case 2:\n            _this$state2 = _this.state, progressMs = _this$state2.progressMs, track = _this$state2.track;\n            _context32.prev = 3;\n            if (!_this.isExternalPlayer) {\n              _context32.next = 10;\n              break;\n            }\n            position = progressMs / track.durationMs;\n            position = Number(((Number.isFinite(position) ? position : 0) * 100).toFixed(1));\n            _this.updateState({\n              position: position,\n              progressMs: progressMs + _this.seekUpdateInterval\n            });\n            _context32.next = 15;\n            break;\n          case 10:\n            if (!_this.player) {\n              _context32.next = 15;\n              break;\n            }\n            _context32.next = 13;\n            return _this.player.getCurrentState();\n          case 13:\n            state = _context32.sent;\n            if (state) {\n              progress = state.position;\n              _position = Number((progress / state.track_window.current_track.duration_ms * 100).toFixed(1));\n              _this.updateState({\n                position: _position,\n                progressMs: progress + _this.seekUpdateInterval\n              });\n            }\n          case 15:\n            _context32.next = 20;\n            break;\n          case 17:\n            _context32.prev = 17;\n            _context32.t0 = _context32[\"catch\"](3);\n            console.error(_context32.t0);\n          case 20:\n          case \"end\":\n            return _context32.stop();\n        }\n      }, _callee32, null, [[3, 17]]);\n    })));\n    _defineProperty(_assertThisInitialized(_this), \"updateState\", function (state) {\n      if (!_this.isMounted) {\n        return;\n      }\n      _this.setState(state);\n    });\n    _this.state = {\n      currentDeviceId: \"\",\n      deviceId: \"\",\n      devices: [],\n      error: \"\",\n      errorType: null,\n      isActive: false,\n      isInitializing: false,\n      isMagnified: false,\n      isPlaying: false,\n      isSaved: false,\n      isUnsupported: false,\n      needsUpdate: false,\n      nextTracks: [],\n      playerPosition: \"bottom\",\n      position: 0,\n      previousTracks: [],\n      progressMs: 0,\n      repeat: \"off\",\n      shuffle: false,\n      status: STATUS.IDLE,\n      track: _this.emptyTrack,\n      volume: parseVolume(props.initialVolume) || 1\n    };\n    _this.locale = getLocale(props.locale);\n    _this.styles = getMergedStyles(props.styles);\n    return _this;\n  }\n  // eslint-disable-next-line react/static-property-placement\n  _createClass(SpotifyWebPlayer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return (_componentDidMount = _componentDidMount || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33() {\n        var _this$ref$current$get, _this$ref$current;\n        var _ref43, _ref43$top, top;\n        return _regeneratorRuntime().wrap(function _callee33$(_context33) {\n          while (1) switch (_context33.prev = _context33.next) {\n            case 0:\n              this.isMounted = true;\n              _ref43 = (_this$ref$current$get = (_this$ref$current = this.ref.current) === null || _this$ref$current === void 0 ? void 0 : _this$ref$current.getBoundingClientRect()) !== null && _this$ref$current$get !== void 0 ? _this$ref$current$get : {}, _ref43$top = _ref43.top, top = _ref43$top === void 0 ? 0 : _ref43$top;\n              this.updateState({\n                playerPosition: top > window.innerHeight / 2 ? \"bottom\" : \"top\",\n                status: STATUS.INITIALIZING\n              });\n              if (!window.onSpotifyWebPlaybackSDKReady) {\n                window.onSpotifyWebPlaybackSDKReady = this.initializePlayer;\n              } else {\n                this.initializePlayer();\n              }\n              _context33.next = 6;\n              return loadSpotifyPlayer();\n            case 6:\n              window.addEventListener(\"resize\", this.handleResize);\n              this.handleResize();\n            case 8:\n            case \"end\":\n              return _context33.stop();\n          }\n        }, _callee33, this);\n      }))).apply(this, arguments);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_x41, _x42) {\n      return (_componentDidUpdate = _componentDidUpdate || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(previousProps, previousState) {\n        var _playOptions$context_2,\n          _this2 = this;\n        var _this$state3, currentDeviceId, deviceId, isInitializing, isPlaying, repeat2, shuffle2, status, track, _this$props5, autoPlay, layout, locale, offset, playProp, showSaveIcon, styles, syncExternalDevice, uris, isReady, playOptions, canPlay, shouldPlay, playerState, _playerState$device$i;\n        return _regeneratorRuntime().wrap(function _callee34$(_context34) {\n          while (1) switch (_context34.prev = _context34.next) {\n            case 0:\n              _this$state3 = this.state, currentDeviceId = _this$state3.currentDeviceId, deviceId = _this$state3.deviceId, isInitializing = _this$state3.isInitializing, isPlaying = _this$state3.isPlaying, repeat2 = _this$state3.repeat, shuffle2 = _this$state3.shuffle, status = _this$state3.status, track = _this$state3.track;\n              _this$props5 = this.props, autoPlay = _this$props5.autoPlay, layout = _this$props5.layout, locale = _this$props5.locale, offset = _this$props5.offset, playProp = _this$props5.play, showSaveIcon = _this$props5.showSaveIcon, styles = _this$props5.styles, syncExternalDevice = _this$props5.syncExternalDevice, uris = _this$props5.uris;\n              isReady = previousState.status !== STATUS.READY && status === STATUS.READY;\n              playOptions = this.getPlayOptions(getURIs(uris));\n              canPlay = !!currentDeviceId && !!((_playOptions$context_2 = playOptions.context_uri) !== null && _playOptions$context_2 !== void 0 ? _playOptions$context_2 : playOptions.uris);\n              shouldPlay = isReady && (autoPlay || playProp);\n              if (!(canPlay && shouldPlay)) {\n                _context34.next = 13;\n                break;\n              }\n              _context34.next = 9;\n              return this.togglePlay(true);\n            case 9:\n              if (!isPlaying) {\n                this.updateState({\n                  isPlaying: true\n                });\n              }\n              if (this.isExternalPlayer) {\n                this.syncTimeout = window.setTimeout(function () {\n                  _this2.syncDevice();\n                }, 600);\n              }\n              _context34.next = 25;\n              break;\n            case 13:\n              if (isEqual(previousProps.uris, uris)) {\n                _context34.next = 22;\n                break;\n              }\n              if (!(isPlaying || playProp)) {\n                _context34.next = 19;\n                break;\n              }\n              _context34.next = 17;\n              return this.togglePlay(true);\n            case 17:\n              _context34.next = 20;\n              break;\n            case 19:\n              this.updateState({\n                needsUpdate: true\n              });\n            case 20:\n              _context34.next = 25;\n              break;\n            case 22:\n              if (!(previousProps.play !== playProp && playProp !== isPlaying)) {\n                _context34.next = 25;\n                break;\n              }\n              _context34.next = 25;\n              return this.togglePlay(!track.id);\n            case 25:\n              if (previousState.status !== status) {\n                this.handleCallback(_objectSpread(_objectSpread({}, this.state), {}, {\n                  type: TYPE.STATUS\n                }));\n              }\n              if (!(previousState.currentDeviceId !== currentDeviceId && currentDeviceId)) {\n                _context34.next = 32;\n                break;\n              }\n              if (!isReady) {\n                this.handleCallback(_objectSpread(_objectSpread({}, this.state), {}, {\n                  type: TYPE.DEVICE\n                }));\n              }\n              _context34.next = 30;\n              return this.toggleSyncInterval(this.isExternalPlayer);\n            case 30:\n              _context34.next = 32;\n              return this.updateSeekBar();\n            case 32:\n              if (previousState.track.id !== track.id && track.id) {\n                this.handleCallback(_objectSpread(_objectSpread({}, this.state), {}, {\n                  type: TYPE.TRACK\n                }));\n                if (showSaveIcon) {\n                  this.updateState({\n                    isSaved: false\n                  });\n                }\n              }\n              if (!(previousState.isPlaying !== isPlaying)) {\n                _context34.next = 38;\n                break;\n              }\n              this.toggleProgressBar();\n              _context34.next = 37;\n              return this.toggleSyncInterval(this.isExternalPlayer);\n            case 37:\n              this.handleCallback(_objectSpread(_objectSpread({}, this.state), {}, {\n                type: TYPE.PLAYER\n              }));\n            case 38:\n              if (previousState.repeat !== repeat2 || previousState.shuffle !== shuffle2) {\n                this.handleCallback(_objectSpread(_objectSpread({}, this.state), {}, {\n                  type: TYPE.PLAYER\n                }));\n              }\n              if (!(previousProps.offset !== offset)) {\n                _context34.next = 42;\n                break;\n              }\n              _context34.next = 42;\n              return this.toggleOffset();\n            case 42:\n              if (!(previousState.isInitializing && !isInitializing)) {\n                _context34.next = 48;\n                break;\n              }\n              if (!(syncExternalDevice && !uris)) {\n                _context34.next = 48;\n                break;\n              }\n              _context34.next = 46;\n              return _getPlaybackState(this.token);\n            case 46:\n              playerState = _context34.sent;\n              if (playerState !== null && playerState !== void 0 && playerState.is_playing && playerState.device.id !== deviceId) {\n                this.setExternalDevice((_playerState$device$i = playerState.device.id) !== null && _playerState$device$i !== void 0 ? _playerState$device$i : \"\");\n              }\n            case 48:\n              if (previousProps.layout !== layout) {\n                this.handleResize();\n              }\n              if (!isEqual(previousProps.locale, locale)) {\n                this.locale = getLocale(locale);\n              }\n              if (!isEqual(previousProps.styles, styles)) {\n                this.styles = getMergedStyles(styles);\n              }\n            case 51:\n            case \"end\":\n              return _context34.stop();\n          }\n        }, _callee34, this);\n      }))).apply(this, arguments);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      return (_componentWillUnmount = _componentWillUnmount || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35() {\n        return _regeneratorRuntime().wrap(function _callee35$(_context35) {\n          while (1) switch (_context35.prev = _context35.next) {\n            case 0:\n              this.isMounted = false;\n              if (this.player) {\n                this.player.disconnect();\n              }\n              clearInterval(this.playerSyncInterval);\n              clearInterval(this.playerProgressInterval);\n              clearTimeout(this.syncTimeout);\n              window.removeEventListener(\"resize\", this.handleResize);\n            case 6:\n            case \"end\":\n              return _context35.stop();\n          }\n        }, _callee35, this);\n      }))).apply(this, arguments);\n    }\n  }, {\n    key: \"handleCallback\",\n    value: function handleCallback(state) {\n      var callback = this.props.callback;\n      if (callback) {\n        callback(state);\n      }\n    }\n  }, {\n    key: \"token\",\n    get: function get() {\n      var token = this.props.token;\n      return token;\n    }\n  }, {\n    key: \"initializeDevices\",\n    value: function initializeDevices(_x43) {\n      return (_initializeDevices = _initializeDevices || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36(id) {\n        var persistDeviceSelection, _yield$_getDevices2, devices, currentDeviceId, savedDeviceId;\n        return _regeneratorRuntime().wrap(function _callee36$(_context36) {\n          while (1) switch (_context36.prev = _context36.next) {\n            case 0:\n              persistDeviceSelection = this.props.persistDeviceSelection;\n              _context36.next = 3;\n              return _getDevices(this.token);\n            case 3:\n              _yield$_getDevices2 = _context36.sent;\n              devices = _yield$_getDevices2.devices;\n              currentDeviceId = id;\n              if (persistDeviceSelection) {\n                savedDeviceId = sessionStorage.getItem(\"rswpDeviceId\");\n                if (!savedDeviceId || !devices.some(function (d) {\n                  return d.id === savedDeviceId;\n                })) {\n                  sessionStorage.setItem(\"rswpDeviceId\", currentDeviceId);\n                } else {\n                  currentDeviceId = savedDeviceId;\n                }\n              }\n              return _context36.abrupt(\"return\", {\n                currentDeviceId: currentDeviceId,\n                devices: devices\n              });\n            case 8:\n            case \"end\":\n              return _context36.stop();\n          }\n        }, _callee36, this);\n      }))).apply(this, arguments);\n    }\n  }, {\n    key: \"isExternalPlayer\",\n    get: function get() {\n      var _this$state4 = this.state,\n        currentDeviceId = _this$state4.currentDeviceId,\n        deviceId = _this$state4.deviceId,\n        status = _this$state4.status;\n      return currentDeviceId && currentDeviceId !== deviceId || status === STATUS.UNSUPPORTED;\n    }\n  }, {\n    key: \"toggleSyncInterval\",\n    value: function toggleSyncInterval(_x44) {\n      return (_toggleSyncInterval = _toggleSyncInterval || _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37(shouldSync) {\n        var syncExternalDeviceInterval;\n        return _regeneratorRuntime().wrap(function _callee37$(_context37) {\n          while (1) switch (_context37.prev = _context37.next) {\n            case 0:\n              syncExternalDeviceInterval = this.props.syncExternalDeviceInterval;\n              _context37.prev = 1;\n              if (!(this.isExternalPlayer && shouldSync && !this.playerSyncInterval)) {\n                _context37.next = 7;\n                break;\n              }\n              _context37.next = 5;\n              return this.syncDevice();\n            case 5:\n              clearInterval(this.playerSyncInterval);\n              this.playerSyncInterval = window.setInterval(this.syncDevice, syncExternalDeviceInterval * 1e3);\n            case 7:\n              if ((!shouldSync || !this.isExternalPlayer) && this.playerSyncInterval) {\n                clearInterval(this.playerSyncInterval);\n                this.playerSyncInterval = void 0;\n              }\n              _context37.next = 13;\n              break;\n            case 10:\n              _context37.prev = 10;\n              _context37.t0 = _context37[\"catch\"](1);\n              console.error(_context37.t0);\n            case 13:\n            case \"end\":\n              return _context37.stop();\n          }\n        }, _callee37, this, [[1, 10]]);\n      }))).apply(this, arguments);\n    }\n  }, {\n    key: \"toggleProgressBar\",\n    value: function toggleProgressBar() {\n      var isPlaying = this.state.isPlaying;\n      if (isPlaying) {\n        if (!this.playerProgressInterval) {\n          this.playerProgressInterval = window.setInterval(this.updateSeekBar, this.seekUpdateInterval);\n        }\n      } else if (this.playerProgressInterval) {\n        clearInterval(this.playerProgressInterval);\n        this.playerProgressInterval = void 0;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state5 = this.state,\n        currentDeviceId = _this$state5.currentDeviceId,\n        deviceId = _this$state5.deviceId,\n        devices = _this$state5.devices,\n        error = _this$state5.error,\n        isActive = _this$state5.isActive,\n        isMagnified = _this$state5.isMagnified,\n        isPlaying = _this$state5.isPlaying,\n        isUnsupported = _this$state5.isUnsupported,\n        nextTracks = _this$state5.nextTracks,\n        playerPosition = _this$state5.playerPosition,\n        position = _this$state5.position,\n        progressMs = _this$state5.progressMs,\n        status = _this$state5.status,\n        track = _this$state5.track,\n        volume = _this$state5.volume;\n      var _this$props6 = this.props,\n        components = _this$props6.components,\n        _this$props6$hideAttr = _this$props6.hideAttribution,\n        hideAttribution = _this$props6$hideAttr === void 0 ? false : _this$props6$hideAttr,\n        _this$props6$hideCove = _this$props6.hideCoverArt,\n        hideCoverArt = _this$props6$hideCove === void 0 ? false : _this$props6$hideCove,\n        _this$props6$inlineVo = _this$props6.inlineVolume,\n        inlineVolume = _this$props6$inlineVo === void 0 ? true : _this$props6$inlineVo,\n        _this$props6$layout = _this$props6.layout,\n        layout = _this$props6$layout === void 0 ? \"responsive\" : _this$props6$layout,\n        showSaveIcon = _this$props6.showSaveIcon,\n        updateSavedStatus = _this$props6.updateSavedStatus;\n      var isReady = [STATUS.READY, STATUS.UNSUPPORTED].includes(status);\n      var output = {\n        main: /* @__PURE__ */jsx27(Loader, {\n          styles: this.styles\n        })\n      };\n      if (isReady) {\n        if (!output.info) {\n          output.info = /* @__PURE__ */jsx27(Info_default, {\n            hideAttribution: hideAttribution,\n            hideCoverArt: hideCoverArt,\n            isActive: isActive,\n            layout: layout,\n            locale: this.locale,\n            onFavoriteStatusChange: this.handleFavoriteStatusChange,\n            showSaveIcon: showSaveIcon,\n            styles: this.styles,\n            token: this.token,\n            track: track,\n            updateSavedStatus: updateSavedStatus\n          });\n        }\n        output.devices = /* @__PURE__ */jsx27(Devices, {\n          currentDeviceId: currentDeviceId,\n          deviceId: deviceId,\n          devices: devices,\n          layout: layout,\n          locale: this.locale,\n          onClickDevice: this.handleClickDevice,\n          open: isUnsupported && !deviceId,\n          playerPosition: playerPosition,\n          styles: this.styles\n        });\n        output.volume = currentDeviceId ? /* @__PURE__ */jsx27(Volume, {\n          inlineVolume: inlineVolume,\n          layout: layout,\n          locale: this.locale,\n          playerPosition: playerPosition,\n          setVolume: this.setVolume,\n          styles: this.styles,\n          volume: volume\n        }) : null;\n        if (this.renderInlineActions) {\n          output.actions = /* @__PURE__ */jsxs6(Actions_default, {\n            layout: layout,\n            styles: this.styles,\n            children: [output.devices, output.volume]\n          });\n        }\n        output.controls = /* @__PURE__ */jsx27(Controls_default, {\n          components: components,\n          devices: this.renderInlineActions ? null : output.devices,\n          durationMs: track.durationMs,\n          isActive: isActive,\n          isExternalDevice: this.isExternalPlayer,\n          isMagnified: isMagnified,\n          isPlaying: isPlaying,\n          layout: layout,\n          locale: this.locale,\n          nextTracks: nextTracks,\n          onChangeRange: this.handleChangeRange,\n          onClickNext: this.handleClickNext,\n          onClickPrevious: this.handleClickPrevious,\n          onClickTogglePlay: this.handleClickTogglePlay,\n          onToggleMagnify: this.handleToggleMagnify,\n          position: position,\n          progressMs: progressMs,\n          styles: this.styles,\n          volume: this.renderInlineActions ? null : output.volume\n        });\n        output.main = /* @__PURE__ */jsxs6(Wrapper_default, {\n          layout: layout,\n          styles: this.styles,\n          children: [output.info, output.controls, output.actions]\n        });\n      } else if (output.info) {\n        output.main = output.info;\n      }\n      if (status === STATUS.ERROR) {\n        output.main = /* @__PURE__ */jsx27(ErrorMessage, {\n          styles: this.styles,\n          children: error\n        });\n      }\n      return /* @__PURE__ */jsx27(Player_default, {\n        ref: this.ref,\n        \"data-ready\": isReady,\n        styles: this.styles,\n        children: output.main\n      });\n    }\n  }]);\n  return SpotifyWebPlayer;\n}(PureComponent), _defineProperty(_class, \"defaultProps\", {\n  autoPlay: false,\n  initialVolume: 1,\n  magnifySliderOnHover: false,\n  name: \"Spotify Web Player\",\n  persistDeviceSelection: false,\n  showSaveIcon: false,\n  syncExternalDeviceInterval: 5,\n  syncExternalDevice: false\n}), _class);\nvar src_default = SpotifyWebPlayer;\nexport { ERROR_TYPE, STATUS, TYPE, src_default as default, spotify_exports as spotifyApi };","map":{"version":3,"names":["createRef","PureComponent","isEqual","memoize","getLocale","locale","_objectSpread","currentDevice","devices","next","otherDevices","pause","play","previous","removeTrack","saveTrack","title","volume","getMergedStyles","styles","activeColor","altColor","bgColor","color","errorColor","height","loaderColor","loaderSize","sliderColor","sliderHandleBorderRadius","sliderHandleColor","sliderHeight","sliderTrackBorderRadius","sliderTrackColor","trackArtistColor","trackNameColor","getSpotifyLink","uri","_uri$split","split","_uri$split2","_slicedToArray","_uri$split2$","type","_uri$split2$2","id","concat","getSpotifyLinkTitle","name","replace","getSpotifyURIType","_uri$split3","_uri$split4","_uri$split4$","convertTrack","track","album","artists","duration_ms","durationMs","image","getAlbumImage","_album$images$find","maxWidth","Math","max","apply","_toConsumableArray","images","map","d","width","find","url","getRepeatState","mode","getURIs","uris","Array","isArray","isNumber","value","loadSpotifyPlayer","Promise","resolve","reject","scriptTag","document","getElementById","script","createElement","async","defer","src","onload","onerror","error","Error","message","head","appendChild","millisecondsToTime","input","seconds","floor","minutes","hours","parts","push","padStart","join","parseVolume","round","number","digits","arguments","length","undefined","factor","pow","validateURI","validTypes","indexOf","_input$split","_input$split2","key","spotify_exports","__export","checkTracksStatus","getDevices","getPlaybackState","getQueue","removeTracks","repeat","saveTracks","seek","setDevice","setVolume","shuffle","_x","_x2","_checkTracksStatus2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","tracks","ids","wrap","_callee$","_context","prev","abrupt","fetch","headers","Authorization","method","then","json","stop","_x3","_getDevices2","_callee2","_callee2$","_context2","_x4","_getPlaybackState2","_callee3","_callee3$","_context3","status","_x5","_getQueue2","_callee4","_callee4$","_context4","_x6","_x7","_next2","_callee5","deviceId","query","_callee5$","_context5","_x8","_x9","_pause2","_callee6","_callee6$","_context6","_x10","_x11","_play2","_callee7","_ref","context_uri","_ref$offset","offset","body","isArtist","position","_callee7$","_context7","JSON","stringify","_x12","_x13","_previous2","_callee8","_callee8$","_context8","_x14","_x15","_removeTracks2","_callee9","_callee9$","_context9","_x16","_x17","_x18","_repeat2","_callee10","state","_callee10$","_context10","_x19","_x20","_saveTracks2","_callee11","_callee11$","_context11","_x21","_x22","_x23","_seek2","_callee12","_callee12$","_context12","_x24","_x25","_x26","_setDevice2","_callee13","shouldPlay","_callee13$","_context13","device_ids","_x27","_x28","_x29","_setVolume2","_callee14","_callee14$","_context14","_x30","_x31","_x32","_shuffle2","_callee15","_callee15$","_context15","create","addon","addonJSX","addonKeyframes","addonNesting","addonRule","addonStyle","addonStyled","nano","h","keyframes","put","styled","px","memo","jsx","Wrapper","alignItems","display","justifyContent","_ref2","style","bottom","right","layout","Actions","props","children","Actions_default","memo3","jsx2","Next","preserveAspectRatio","viewBox","fill","jsx3","Pause","jsx4","Play","jsx5","Previous","memo2","RangeSlider","jsx6","jsxs","Wrapper2","fontSize","transition","zIndex","_ref3","c","lineHeight","minWidth","marginRight","textAlign","marginLeft","Slider","_ref5","isMagnified","onChangeRange","onToggleMagnify","progressMs","handleChangeRange","_x33","_callee16","_ref4","x","_callee16$","_context16","handleSize","onMouseEnter","onMouseLeave","className","axis","onChange","options","thumbBorder","thumbBorderRadius","thumbColor","thumbSize","padding","rangeColor","trackBorderRadius","trackColor","xMax","xMin","xStep","Slider_default","jsx7","jsxs2","Wrapper3","top","left","_ref6","isCompactLayout","Buttons","marginBottom","_ref7","Button","cursor","opacity","Controls","_props$components","components","_props$components2","leftButton","rightButton","isActive","isExternalDevice","isPlaying","nextTracks","onClickNext","onClickPrevious","onClickTogglePlay","disabled","onClick","Controls_default","useCallback","useState","memo4","useEffect","useRef","jsx8","ClickOutside","rest","_objectWithoutProperties","_excluded","containerRef","isTouch","handleClick","event","container","current","contains","target","addEventListener","removeEventListener","ref","ClickOutside_default","jsx9","DevicesIcon","jsx10","DevicesComputerIcon","jsx11","DevicesMobileIcon","jsx12","DevicesSpeakerIcon","Fragment","jsx13","jsxs3","Wrapper4","backgroundColor","borderRadius","filter","fontWeight","marginTop","whiteSpace","button","span","background","borderLeft","borderRight","content","_ref8","_ref9","_ref10","isCompact","divStyles","_defineProperty","p","spanStyles","borderTop","ListHeader","getDeviceIcon","toLowerCase","includes","Devices","currentDeviceId","_props$devices","onClickDevice","open","playerPosition","_useState","_useState2","isOpen","setOpen","handleClickSetDevice","dataset","currentTarget","handleClickToggleList","s","_devices$reduce","reduce","acc","device","icon","jsx14","Wrapper5","_ref11","ErrorMessage","_ref12","_ref12$styles","memo5","useEffect3","useRef3","useState3","fade","useEffect2","useRef2","useState2","useMediaQuery","getMatches","window","matchMedia","matches","_useState3","_useState4","setMatches","handleChange","_unused","addListener","_unused2","removeListener","usePrevious","jsx15","Favorite","jsx16","FavoriteOutline","textColor","jsx17","SpotifyLogo","_ref13","_excluded2","jsx18","jsxs4","imageSize","iconSize","Wrapper6","textDecoration","minHeight","_ref14","borderBottom","margin","paddingBottom","img","paddingLeft","ContentWrapper","flexDirection","_ref15","hideCoverArt","Content","overflow","div","paddingRight","_ref16","showSaveIcon","a","Info","_ref17","_ref20","hideAttribution","onFavoriteStatusChange","_props$styles","_props$track","_props$track$artists","updateSavedStatus","_useState5","_useState6","isSaved","setIsSaved","isMounted","previousId","updateState","setStatus","_callee17","_ref18","_ref19","isFavorite","_callee17$","_context17","newStatus","sent","handleClickIcon","_callee18","_callee18$","_context18","favorite","classes","alt","href","rel","artist","index","artistTitle","Info_default","jsx19","Wrapper7","jsutifyContent","borderStyle","borderWidth","boxSizing","transform","_ref21","pulse","animation","borderColor","Loader","_ref22","_ref22$styles","forwardRef","jsx20","Player","_props$styles2","_excluded3","Player_default","useCallback2","useEffect4","useRef4","useState4","RangeSlider2","jsx21","VolumeHigh","jsx22","VolumeLow","jsx23","VolumeHigh2","jsx24","VolumeMute","jsx25","jsxs5","WrapperWithToggle","_ref23","_ref24","_div","WrapperInline","_ref25","Volume","inlineVolume","setVolume2","_useState7","_useState8","setIsOpen","_useState9","_useState10","volumeState","setVolumeState","timeoutRef","previousVolume","isMediumScreen","isInline","handleChangeSlider","_ref26","y","currentvolume","clearTimeout","setTimeout","handleAfterEnd","onAfterEnd","yMax","yMin","memo6","jsx26","StyledWrapper","flexWrap","_ref27","Wrapper8","Wrapper_default","ERROR_TYPE","ACCOUNT","AUTHENTICATION","INITIALIZATION","PLAYBACK","PLAYER","STATUS","ERROR","IDLE","INITIALIZING","READY","RUNNING","UNSUPPORTED","TYPE","DEVICE","FAVORITE","PROGRESS","TRACK","jsx27","jsxs6","appearance","border","outlineColor","outlineOffset","SpotifyWebPlayer","_class","_PureComponent","_componentDidMount","_componentDidUpdate","_componentWillUnmount","_initializeDevices","_toggleSyncInterval","_inherits","_super","_createSuper","_ref28","_ref32","_ref33","_ref34","_ref36","_ref38","_this","_classCallCheck","call","_assertThisInitialized","playOptions","every","some","console","warn","_x34","_callee19","callback","progress","percentage","stateChanges","_callee19$","_context19","isExternalPlayer","player","getCurrentState","track_window","current_track","t0","_callee20","_callee20$","_context20","togglePlay","_callee21","_callee21$","_context21","syncTimeout","syncDevice","previousTrack","_callee22","_callee22$","_context22","nextTrack","_x35","_callee23","isUnsupported","_this$props","autoPlay","persistDeviceSelection","playerState","_callee23$","_context23","sessionStorage","setItem","is_playing","handleCallback","_x36","_x37","_callee24","isPlaybackError","isInitializationError","nextStatus","_yield$_getDevices","_yield$_getDevices$de","_callee24$","_context24","disconnect","errorType","isInitializing","_x38","_callee25","_yield$_this$player$g","_this$player","paused","repeat_mode","shuffle2","_state$track_window","next_tracks","previous_tracks","trackState","_callee25$","_context25","getVolume","t1","t2","previousTracks","t3","_x39","_callee26","_ref35","device_id","_yield$_this$initiali","_callee26$","_context26","initializeDevices","_this$props$layout","resizeTimeout","renderInlineActions","innerWidth","forceUpdate","magnifySliderOnHover","previousState","_this$props2","_this$props2$getOAuth","getOAuthToken","getPlayer","_this$props2$name","Spotify","handlePlayerStatus","handlePlayerStateChanges","handlePlayerErrors","_callee27","_callee27$","_context27","log","connect","_x40","_callee28","_callee28$","_context28","_callee29","_playerState$progress","_callee29$","_context29","emptyTrack","item","progress_ms","volume_percent","_callee30","_this$props3","_callee30$","_context30","_callee31","force","_this$state","needsUpdate","_this$props4","shouldInitialize","_playOptions$context_","_args16","_callee31$","_context31","getPlayOptions","activateElement","_callee32","_this$state2","_position","_callee32$","_context32","Number","isFinite","toFixed","seekUpdateInterval","setState","initialVolume","_createClass","componentDidMount","_callee33","_this$ref$current$get","_this$ref$current","_ref43","_ref43$top","_callee33$","_context33","getBoundingClientRect","innerHeight","onSpotifyWebPlaybackSDKReady","initializePlayer","handleResize","componentDidUpdate","_x41","_x42","_callee34","previousProps","_playOptions$context_2","_this2","_this$state3","repeat2","_this$props5","playProp","syncExternalDevice","isReady","canPlay","_playerState$device$i","_callee34$","_context34","toggleSyncInterval","updateSeekBar","toggleProgressBar","toggleOffset","setExternalDevice","componentWillUnmount","_callee35","_callee35$","_context35","clearInterval","playerSyncInterval","playerProgressInterval","get","_x43","_callee36","_yield$_getDevices2","savedDeviceId","_callee36$","_context36","getItem","_this$state4","_x44","_callee37","shouldSync","syncExternalDeviceInterval","_callee37$","_context37","setInterval","render","_this$state5","_this$props6","_this$props6$hideAttr","_this$props6$hideCove","_this$props6$inlineVo","_this$props6$layout","output","main","info","handleFavoriteStatusChange","handleClickDevice","actions","controls","handleClickNext","handleClickPrevious","handleClickTogglePlay","handleToggleMagnify","src_default"],"sources":["/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/index.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/modules/getters.ts","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/modules/helpers.ts","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/modules/spotify.ts","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/modules/styled.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Actions.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Controls.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/Next.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/Pause.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/Play.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/Previous.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Slider.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Devices.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/ClickOutside.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/Devices.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/DevicesComputer.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/DevicesMobile.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/DevicesSpeaker.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/ErrorMessage.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Info.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/modules/hooks.ts","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/Favorite.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/FavoriteOutline.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/SpotifyLogo.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Loader.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Player.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Volume.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/VolumeHigh.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/VolumeLow.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/VolumeMid.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/icons/VolumeMute.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/components/Wrapper.tsx","/Users/jackmanning/Desktop/Railway-Jukebox/jukebox/node_modules/react-spotify-web-playback/src/constants.ts"],"sourcesContent":["/* eslint-disable camelcase */\nimport { createRef, PureComponent, ReactNode } from 'react';\nimport isEqual from '@gilbarbara/deep-equal';\nimport memoize from 'memoize-one';\n\nimport { getLocale, getMergedStyles, getSpotifyURIType } from '~/modules/getters';\nimport {\n  convertTrack,\n  getAlbumImage,\n  getRepeatState,\n  getURIs,\n  loadSpotifyPlayer,\n  parseVolume,\n  round,\n  validateURI,\n} from '~/modules/helpers';\nimport {\n  getDevices,\n  getPlaybackState,\n  next,\n  pause,\n  play,\n  previous,\n  seek,\n  setDevice,\n  setVolume,\n} from '~/modules/spotify';\nimport { put } from '~/modules/styled';\n\nimport Actions from '~/components/Actions';\nimport Controls from '~/components/Controls';\nimport Devices from '~/components/Devices';\nimport ErrorMessage from '~/components/ErrorMessage';\nimport Info from '~/components/Info';\nimport Loader from '~/components/Loader';\nimport Player from '~/components/Player';\nimport Volume from '~/components/Volume';\nimport Wrapper from '~/components/Wrapper';\n\nimport { ERROR_TYPE, STATUS, TYPE } from '~/constants';\n\nimport {\n  CallbackState,\n  ErrorType,\n  Locale,\n  PlayOptions,\n  Props,\n  SpotifyArtist,\n  SpotifyDevice,\n  SpotifyPlayerCallback,\n  State,\n  Status,\n  StylesOptions,\n} from './types';\n\nput('.PlayerRSWP', {\n  boxSizing: 'border-box',\n  fontSize: 'inherit',\n  width: '100%',\n\n  '*': {\n    boxSizing: 'border-box',\n  },\n\n  p: {\n    margin: 0,\n  },\n});\n\nput('.ButtonRSWP', {\n  appearance: 'none',\n  background: 'transparent',\n  border: 0,\n  borderRadius: 0,\n  color: 'inherit',\n  cursor: 'pointer',\n  display: 'inline-flex',\n  lineHeight: 1,\n  padding: 0,\n\n  ':focus': {\n    outlineColor: '#000',\n    outlineOffset: 3,\n  },\n});\n\nclass SpotifyWebPlayer extends PureComponent<Props, State> {\n  private isMounted = false;\n  private emptyTrack = {\n    artists: [] as SpotifyArtist[],\n    durationMs: 0,\n    id: '',\n    image: '',\n    name: '',\n    uri: '',\n  };\n\n  private locale: Locale;\n  private player?: Spotify.Player;\n  private playerProgressInterval?: number;\n  private playerSyncInterval?: number;\n  private ref = createRef<HTMLDivElement>();\n  private renderInlineActions = false;\n  private resizeTimeout?: number;\n  private seekUpdateInterval = 100;\n  private styles: StylesOptions;\n  private syncTimeout?: number;\n\n  // eslint-disable-next-line unicorn/consistent-function-scoping\n  private getPlayOptions = memoize((ids: string[]): PlayOptions => {\n    const playOptions: PlayOptions = {\n      context_uri: undefined,\n      uris: undefined,\n    };\n\n    /* istanbul ignore else */\n    if (ids) {\n      if (!ids.every(d => validateURI(d))) {\n        return playOptions;\n      }\n\n      if (ids.some(d => getSpotifyURIType(d) === 'track')) {\n        if (!ids.every(d => getSpotifyURIType(d) === 'track')) {\n          // eslint-disable-next-line no-console\n          console.warn(\"You can't mix tracks URIs with other types\");\n        }\n\n        playOptions.uris = ids.filter(d => validateURI(d) && getSpotifyURIType(d) === 'track');\n      } else {\n        if (ids.length > 1) {\n          // eslint-disable-next-line no-console\n          console.warn(\"Albums, Artists, Playlists and Podcasts can't have multiple URIs\");\n        }\n\n        // eslint-disable-next-line prefer-destructuring\n        playOptions.context_uri = ids[0];\n      }\n    }\n\n    return playOptions;\n  });\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      currentDeviceId: '',\n      deviceId: '',\n      devices: [],\n      error: '',\n      errorType: null,\n      isActive: false,\n      isInitializing: false,\n      isMagnified: false,\n      isPlaying: false,\n      isSaved: false,\n      isUnsupported: false,\n      needsUpdate: false,\n      nextTracks: [],\n      playerPosition: 'bottom',\n      position: 0,\n      previousTracks: [],\n      progressMs: 0,\n      repeat: 'off',\n      shuffle: false,\n      status: STATUS.IDLE,\n      track: this.emptyTrack,\n      volume: parseVolume(props.initialVolume) || 1,\n    };\n\n    this.locale = getLocale(props.locale);\n\n    this.styles = getMergedStyles(props.styles);\n  }\n\n  // eslint-disable-next-line react/static-property-placement\n  static defaultProps = {\n    autoPlay: false,\n    initialVolume: 1,\n    magnifySliderOnHover: false,\n    name: 'Spotify Web Player',\n    persistDeviceSelection: false,\n    showSaveIcon: false,\n    syncExternalDeviceInterval: 5,\n    syncExternalDevice: false,\n  };\n\n  public async componentDidMount() {\n    this.isMounted = true;\n    const { top = 0 } = this.ref.current?.getBoundingClientRect() ?? {};\n\n    this.updateState({\n      playerPosition: top > window.innerHeight / 2 ? 'bottom' : 'top',\n      status: STATUS.INITIALIZING,\n    });\n\n    if (!window.onSpotifyWebPlaybackSDKReady) {\n      window.onSpotifyWebPlaybackSDKReady = this.initializePlayer;\n    } else {\n      this.initializePlayer();\n    }\n\n    await loadSpotifyPlayer();\n\n    window.addEventListener('resize', this.handleResize);\n    this.handleResize();\n  }\n\n  public async componentDidUpdate(previousProps: Props, previousState: State) {\n    const { currentDeviceId, deviceId, isInitializing, isPlaying, repeat, shuffle, status, track } =\n      this.state;\n    const {\n      autoPlay,\n      layout,\n      locale,\n      offset,\n      play: playProp,\n      showSaveIcon,\n      styles,\n      syncExternalDevice,\n      uris,\n    } = this.props;\n    const isReady = previousState.status !== STATUS.READY && status === STATUS.READY;\n    const playOptions = this.getPlayOptions(getURIs(uris));\n\n    const canPlay = !!currentDeviceId && !!(playOptions.context_uri ?? playOptions.uris);\n    const shouldPlay = isReady && (autoPlay || playProp);\n\n    if (canPlay && shouldPlay) {\n      await this.togglePlay(true);\n\n      /* istanbul ignore else */\n      if (!isPlaying) {\n        this.updateState({ isPlaying: true });\n      }\n\n      if (this.isExternalPlayer) {\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 600);\n      }\n    } else if (!isEqual(previousProps.uris, uris)) {\n      if (isPlaying || playProp) {\n        await this.togglePlay(true);\n      } else {\n        this.updateState({ needsUpdate: true });\n      }\n    } else if (previousProps.play !== playProp && playProp !== isPlaying) {\n      await this.togglePlay(!track.id);\n    }\n\n    if (previousState.status !== status) {\n      this.handleCallback({\n        ...this.state,\n        type: TYPE.STATUS,\n      });\n    }\n\n    if (previousState.currentDeviceId !== currentDeviceId && currentDeviceId) {\n      if (!isReady) {\n        this.handleCallback({\n          ...this.state,\n          type: TYPE.DEVICE,\n        });\n      }\n\n      await this.toggleSyncInterval(this.isExternalPlayer);\n      await this.updateSeekBar();\n    }\n\n    if (previousState.track.id !== track.id && track.id) {\n      this.handleCallback({\n        ...this.state,\n        type: TYPE.TRACK,\n      });\n\n      if (showSaveIcon) {\n        this.updateState({ isSaved: false });\n      }\n    }\n\n    if (previousState.isPlaying !== isPlaying) {\n      this.toggleProgressBar();\n      await this.toggleSyncInterval(this.isExternalPlayer);\n\n      this.handleCallback({\n        ...this.state,\n        type: TYPE.PLAYER,\n      });\n    }\n\n    if (previousState.repeat !== repeat || previousState.shuffle !== shuffle) {\n      this.handleCallback({\n        ...this.state,\n        type: TYPE.PLAYER,\n      });\n    }\n\n    if (previousProps.offset !== offset) {\n      await this.toggleOffset();\n    }\n\n    if (previousState.isInitializing && !isInitializing) {\n      if (syncExternalDevice && !uris) {\n        const playerState = await getPlaybackState(this.token);\n\n        /* istanbul ignore else */\n        if (playerState?.is_playing && playerState.device.id !== deviceId) {\n          this.setExternalDevice(playerState.device.id ?? '');\n        }\n      }\n    }\n\n    if (previousProps.layout !== layout) {\n      this.handleResize();\n    }\n\n    if (!isEqual(previousProps.locale, locale)) {\n      this.locale = getLocale(locale);\n    }\n\n    if (!isEqual(previousProps.styles, styles)) {\n      this.styles = getMergedStyles(styles);\n    }\n  }\n\n  public async componentWillUnmount() {\n    this.isMounted = false;\n\n    /* istanbul ignore else */\n    if (this.player) {\n      this.player.disconnect();\n    }\n\n    clearInterval(this.playerSyncInterval);\n    clearInterval(this.playerProgressInterval);\n    clearTimeout(this.syncTimeout);\n\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  private handleCallback(state: CallbackState): void {\n    const { callback } = this.props;\n\n    if (callback) {\n      callback(state);\n    }\n  }\n\n  private handleChangeRange = async (position: number) => {\n    const { track } = this.state;\n    const { callback } = this.props;\n    let progress = 0;\n\n    try {\n      const percentage = position / 100;\n\n      let stateChanges = {};\n\n      if (this.isExternalPlayer) {\n        progress = Math.round(track.durationMs * percentage);\n\n        await seek(this.token, progress);\n\n        stateChanges = {\n          position,\n          progressMs: progress,\n        };\n      } else if (this.player) {\n        const state = await this.player.getCurrentState();\n\n        if (state) {\n          progress = Math.round(state.track_window.current_track.duration_ms * percentage);\n          await this.player.seek(progress);\n\n          stateChanges = {\n            position,\n            progressMs: progress,\n          };\n        } else {\n          stateChanges = { position: 0 };\n        }\n      }\n\n      this.updateState(stateChanges);\n\n      if (callback) {\n        callback({\n          ...this.state,\n          ...stateChanges,\n          type: TYPE.PROGRESS,\n        });\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickTogglePlay = async () => {\n    const { isActive } = this.state;\n\n    try {\n      await this.togglePlay(!this.isExternalPlayer && !isActive);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickPrevious = async () => {\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        await previous(this.token);\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 300);\n      } else if (this.player) {\n        await this.player.previousTrack();\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickNext = async () => {\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        await next(this.token);\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 300);\n      } else if (this.player) {\n        await this.player.nextTrack();\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleClickDevice = async (deviceId: string) => {\n    const { isUnsupported } = this.state;\n    const { autoPlay, persistDeviceSelection } = this.props;\n\n    this.updateState({ currentDeviceId: deviceId });\n\n    try {\n      await setDevice(this.token, deviceId);\n\n      /* istanbul ignore else */\n      if (persistDeviceSelection) {\n        sessionStorage.setItem('rswpDeviceId', deviceId);\n      }\n\n      /* istanbul ignore else */\n      if (isUnsupported) {\n        await this.syncDevice();\n\n        const playerState = await getPlaybackState(this.token);\n\n        if (playerState && !playerState.is_playing && autoPlay) {\n          await this.togglePlay(true);\n        }\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handleFavoriteStatusChange = (status: boolean) => {\n    const { isSaved } = this.state;\n\n    this.updateState({ isSaved: status });\n\n    /* istanbul ignore else */\n    if (isSaved !== status) {\n      this.handleCallback({\n        ...this.state,\n        isSaved: status,\n        type: TYPE.FAVORITE,\n      });\n    }\n  };\n\n  private handlePlayerErrors = async (type: ErrorType, message: string) => {\n    const { status } = this.state;\n    const isPlaybackError = type === ERROR_TYPE.PLAYBACK;\n    const isInitializationError = type === ERROR_TYPE.INITIALIZATION;\n\n    let nextStatus = status;\n    let devices: SpotifyDevice[] = [];\n\n    if (this.player && !isPlaybackError) {\n      this.player.disconnect();\n      this.player = undefined;\n    }\n\n    if (isInitializationError) {\n      nextStatus = STATUS.UNSUPPORTED;\n\n      ({ devices = [] } = await getDevices(this.token));\n    } else if (!isPlaybackError) {\n      nextStatus = STATUS.ERROR;\n    }\n\n    this.updateState({\n      devices,\n      error: message,\n      errorType: type,\n      isInitializing: false,\n      isUnsupported: isInitializationError,\n      status: nextStatus,\n    });\n  };\n\n  private handlePlayerStateChanges = async (state: Spotify.PlaybackState) => {\n    try {\n      /* istanbul ignore else */\n      if (state) {\n        const {\n          paused,\n          position,\n          repeat_mode,\n          shuffle,\n          track_window: { current_track, next_tracks, previous_tracks },\n        } = state;\n\n        const isPlaying = !paused;\n        const volume = (await this.player?.getVolume()) ?? 100;\n        let trackState = {};\n\n        if (position === 0 && current_track) {\n          trackState = {\n            nextTracks: next_tracks.map(convertTrack),\n            position: 0,\n            previousTracks: previous_tracks.map(convertTrack),\n            track: convertTrack(current_track),\n          };\n        }\n\n        this.updateState({\n          error: '',\n          errorType: null,\n          isActive: true,\n          isPlaying,\n          progressMs: position,\n          repeat: getRepeatState(repeat_mode),\n          shuffle,\n          volume: round(volume),\n          ...trackState,\n        });\n      } else if (this.isExternalPlayer) {\n        await this.syncDevice();\n      } else {\n        this.updateState({\n          isActive: false,\n          isPlaying: false,\n          nextTracks: [],\n          position: 0,\n          previousTracks: [],\n          track: {\n            artists: [],\n            durationMs: 0,\n            id: '',\n            image: '',\n            name: '',\n            uri: '',\n          },\n        });\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private handlePlayerStatus = async ({ device_id }: Spotify.WebPlaybackInstance) => {\n    const { currentDeviceId, devices } = await this.initializeDevices(device_id);\n\n    this.updateState({\n      currentDeviceId,\n      deviceId: device_id,\n      devices,\n      isInitializing: false,\n      status: device_id ? STATUS.READY : STATUS.IDLE,\n    });\n  };\n\n  private handleResize = () => {\n    const { layout = 'responsive' } = this.props;\n\n    clearTimeout(this.resizeTimeout);\n\n    this.resizeTimeout = window.setTimeout(() => {\n      this.renderInlineActions = window.innerWidth >= 768 && layout === 'responsive';\n      this.forceUpdate();\n    }, 100);\n  };\n\n  private handleToggleMagnify = () => {\n    const { magnifySliderOnHover } = this.props;\n\n    if (magnifySliderOnHover) {\n      this.updateState(previousState => {\n        return { isMagnified: !previousState.isMagnified };\n      });\n    }\n  };\n\n  private get token(): string {\n    const { token } = this.props;\n\n    return token;\n  }\n\n  private async initializeDevices(id: string) {\n    const { persistDeviceSelection } = this.props;\n    const { devices } = await getDevices(this.token);\n    let currentDeviceId = id;\n\n    if (persistDeviceSelection) {\n      const savedDeviceId = sessionStorage.getItem('rswpDeviceId');\n\n      /* istanbul ignore else */\n      if (!savedDeviceId || !devices.some((d: SpotifyDevice) => d.id === savedDeviceId)) {\n        sessionStorage.setItem('rswpDeviceId', currentDeviceId);\n      } else {\n        currentDeviceId = savedDeviceId;\n      }\n    }\n\n    return { currentDeviceId, devices };\n  }\n\n  private initializePlayer = () => {\n    const { volume } = this.state;\n    const {\n      getOAuthToken = (callback: SpotifyPlayerCallback) => {\n        callback(this.token);\n      },\n      getPlayer,\n      name = 'Spotify Web Player',\n    } = this.props;\n\n    if (!window.Spotify) {\n      return;\n    }\n\n    this.updateState({\n      error: '',\n      errorType: null,\n      isInitializing: true,\n    });\n\n    this.player = new window.Spotify.Player({\n      getOAuthToken,\n      name,\n      volume,\n    });\n\n    this.player.addListener('ready', this.handlePlayerStatus);\n    this.player.addListener('not_ready', this.handlePlayerStatus);\n    this.player.addListener('player_state_changed', this.handlePlayerStateChanges);\n    this.player.addListener('initialization_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.INITIALIZATION, error.message),\n    );\n    this.player.addListener('authentication_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.AUTHENTICATION, error.message),\n    );\n    this.player.addListener('account_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.ACCOUNT, error.message),\n    );\n    this.player.addListener('playback_error', error =>\n      this.handlePlayerErrors(ERROR_TYPE.PLAYBACK, error.message),\n    );\n    this.player.addListener('autoplay_failed', async () => {\n      // eslint-disable-next-line no-console\n      console.log('Autoplay is not allowed by the browser autoplay rules');\n    });\n\n    this.player.connect();\n\n    if (getPlayer) {\n      getPlayer(this.player);\n    }\n  };\n\n  private get isExternalPlayer(): boolean {\n    const { currentDeviceId, deviceId, status } = this.state;\n\n    return (currentDeviceId && currentDeviceId !== deviceId) || status === STATUS.UNSUPPORTED;\n  }\n\n  private setExternalDevice = (id: string) => {\n    this.updateState({ currentDeviceId: id, isPlaying: true });\n  };\n\n  private setVolume = async (volume: number) => {\n    /* istanbul ignore else */\n    if (this.isExternalPlayer) {\n      await setVolume(this.token, Math.round(volume * 100));\n      await this.syncDevice();\n    } else if (this.player) {\n      await this.player.setVolume(volume);\n    }\n\n    this.updateState({ volume });\n  };\n\n  private syncDevice = async () => {\n    if (!this.isMounted) {\n      return;\n    }\n\n    const { deviceId } = this.state;\n\n    try {\n      const playerState = await getPlaybackState(this.token);\n      let track = this.emptyTrack;\n\n      if (!playerState) {\n        throw new Error('No player');\n      }\n\n      /* istanbul ignore else */\n      if (playerState.item) {\n        track = {\n          artists: 'artists' in playerState.item ? playerState.item.artists : [],\n          durationMs: playerState.item.duration_ms,\n          id: playerState.item.id,\n          image: 'album' in playerState.item ? getAlbumImage(playerState.item.album) : '',\n          name: playerState.item.name,\n          uri: playerState.item.uri,\n        };\n      }\n\n      this.updateState({\n        error: '',\n        errorType: null,\n        isActive: true,\n        isPlaying: playerState.is_playing,\n        nextTracks: [],\n        previousTracks: [],\n        progressMs: playerState.item ? playerState.progress_ms ?? 0 : 0,\n        status: STATUS.READY,\n        track,\n        volume: parseVolume(playerState.device.volume_percent),\n      });\n    } catch (error: any) {\n      const state = {\n        isActive: false,\n        isPlaying: false,\n        position: 0,\n        track: this.emptyTrack,\n      };\n\n      if (deviceId) {\n        this.updateState({\n          currentDeviceId: deviceId,\n          ...state,\n        });\n\n        return;\n      }\n\n      this.updateState({\n        error: error.message,\n        errorType: ERROR_TYPE.PLAYER,\n        status: STATUS.ERROR,\n        ...state,\n      });\n    }\n  };\n\n  private async toggleSyncInterval(shouldSync: boolean) {\n    const { syncExternalDeviceInterval } = this.props;\n\n    try {\n      if (this.isExternalPlayer && shouldSync && !this.playerSyncInterval) {\n        await this.syncDevice();\n\n        clearInterval(this.playerSyncInterval);\n        this.playerSyncInterval = window.setInterval(\n          this.syncDevice,\n          syncExternalDeviceInterval! * 1000,\n        );\n      }\n\n      if ((!shouldSync || !this.isExternalPlayer) && this.playerSyncInterval) {\n        clearInterval(this.playerSyncInterval);\n        this.playerSyncInterval = undefined;\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  }\n\n  private toggleProgressBar() {\n    const { isPlaying } = this.state;\n\n    /* istanbul ignore else */\n    if (isPlaying) {\n      /* istanbul ignore else */\n      if (!this.playerProgressInterval) {\n        this.playerProgressInterval = window.setInterval(\n          this.updateSeekBar,\n          this.seekUpdateInterval,\n        );\n      }\n    } else if (this.playerProgressInterval) {\n      clearInterval(this.playerProgressInterval);\n      this.playerProgressInterval = undefined;\n    }\n  }\n\n  private toggleOffset = async () => {\n    const { currentDeviceId } = this.state;\n    const { offset, uris } = this.props;\n\n    if (typeof offset === 'number') {\n      await play(this.token, { deviceId: currentDeviceId, offset, uris: getURIs(uris) });\n    }\n  };\n\n  private togglePlay = async (force = false) => {\n    const { currentDeviceId, isPlaying, needsUpdate } = this.state;\n    const { offset, uris } = this.props;\n    const shouldInitialize = force || needsUpdate;\n    const playOptions = this.getPlayOptions(getURIs(uris));\n\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        if (!isPlaying) {\n          await play(this.token, {\n            deviceId: currentDeviceId,\n            offset,\n            ...(shouldInitialize ? playOptions : undefined),\n          });\n        } else {\n          await pause(this.token);\n\n          this.updateState({ isPlaying: false });\n        }\n\n        this.syncTimeout = window.setTimeout(() => {\n          this.syncDevice();\n        }, 300);\n      } else if (this.player) {\n        await this.player.activateElement();\n\n        const playerState = await this.player.getCurrentState();\n        const shouldPlay = !playerState && !!(playOptions.context_uri ?? playOptions.uris);\n\n        // eslint-disable-next-line unicorn/prefer-ternary\n        if (shouldPlay || shouldInitialize) {\n          await play(this.token, {\n            deviceId: currentDeviceId,\n            offset,\n            ...(shouldInitialize ? playOptions : undefined),\n          });\n          await this.player.togglePlay();\n        } else {\n          await this.player.togglePlay();\n        }\n      }\n\n      if (needsUpdate) {\n        this.updateState({ needsUpdate: false });\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private updateSeekBar = async () => {\n    if (!this.isMounted) {\n      return;\n    }\n\n    const { progressMs, track } = this.state;\n\n    try {\n      /* istanbul ignore else */\n      if (this.isExternalPlayer) {\n        let position = progressMs / track.durationMs;\n\n        position = Number(((Number.isFinite(position) ? position : 0) * 100).toFixed(1));\n\n        this.updateState({\n          position,\n          progressMs: progressMs + this.seekUpdateInterval,\n        });\n      } else if (this.player) {\n        const state = await this.player.getCurrentState();\n\n        /* istanbul ignore else */\n        if (state) {\n          const progress = state.position;\n          const position = Number(\n            ((progress / state.track_window.current_track.duration_ms) * 100).toFixed(1),\n          );\n\n          this.updateState({\n            position,\n            progressMs: progress + this.seekUpdateInterval,\n          });\n        }\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  private updateState: typeof this.setState = state => {\n    if (!this.isMounted) {\n      return;\n    }\n\n    this.setState(state);\n  };\n\n  public render() {\n    const {\n      currentDeviceId,\n      deviceId,\n      devices,\n      error,\n      isActive,\n      isMagnified,\n      isPlaying,\n      isUnsupported,\n      nextTracks,\n      playerPosition,\n      position,\n      progressMs,\n      status,\n      track,\n      volume,\n    } = this.state;\n    const {\n      components,\n      hideAttribution = false,\n      hideCoverArt = false,\n      inlineVolume = true,\n      layout = 'responsive',\n      showSaveIcon,\n      updateSavedStatus,\n    } = this.props;\n    const isReady = ([STATUS.READY, STATUS.UNSUPPORTED] as Status[]).includes(status);\n\n    const output: Record<string, ReactNode> = {\n      main: <Loader styles={this.styles} />,\n    };\n\n    if (isReady) {\n      /* istanbul ignore else */\n      if (!output.info) {\n        output.info = (\n          <Info\n            hideAttribution={hideAttribution}\n            hideCoverArt={hideCoverArt}\n            isActive={isActive}\n            layout={layout}\n            locale={this.locale}\n            onFavoriteStatusChange={this.handleFavoriteStatusChange}\n            showSaveIcon={showSaveIcon!}\n            styles={this.styles}\n            token={this.token}\n            track={track}\n            updateSavedStatus={updateSavedStatus}\n          />\n        );\n      }\n\n      output.devices = (\n        <Devices\n          currentDeviceId={currentDeviceId}\n          deviceId={deviceId}\n          devices={devices}\n          layout={layout}\n          locale={this.locale}\n          onClickDevice={this.handleClickDevice}\n          open={isUnsupported && !deviceId}\n          playerPosition={playerPosition}\n          styles={this.styles}\n        />\n      );\n\n      output.volume = currentDeviceId ? (\n        <Volume\n          inlineVolume={inlineVolume}\n          layout={layout}\n          locale={this.locale}\n          playerPosition={playerPosition}\n          setVolume={this.setVolume}\n          styles={this.styles}\n          volume={volume}\n        />\n      ) : null;\n\n      if (this.renderInlineActions) {\n        output.actions = (\n          <Actions layout={layout} styles={this.styles}>\n            {output.devices}\n            {output.volume}\n          </Actions>\n        );\n      }\n\n      output.controls = (\n        <Controls\n          components={components}\n          devices={this.renderInlineActions ? null : output.devices}\n          durationMs={track.durationMs}\n          isActive={isActive}\n          isExternalDevice={this.isExternalPlayer}\n          isMagnified={isMagnified}\n          isPlaying={isPlaying}\n          layout={layout}\n          locale={this.locale}\n          nextTracks={nextTracks}\n          onChangeRange={this.handleChangeRange}\n          onClickNext={this.handleClickNext}\n          onClickPrevious={this.handleClickPrevious}\n          onClickTogglePlay={this.handleClickTogglePlay}\n          onToggleMagnify={this.handleToggleMagnify}\n          position={position}\n          progressMs={progressMs}\n          styles={this.styles}\n          volume={this.renderInlineActions ? null : output.volume}\n        />\n      );\n\n      output.main = (\n        <Wrapper layout={layout} styles={this.styles}>\n          {output.info}\n          {output.controls}\n          {output.actions}\n        </Wrapper>\n      );\n    } else if (output.info) {\n      output.main = output.info;\n    }\n\n    if (status === STATUS.ERROR) {\n      output.main = <ErrorMessage styles={this.styles}>{error}</ErrorMessage>;\n    }\n\n    return (\n      <Player ref={this.ref} data-ready={isReady} styles={this.styles}>\n        {output.main}\n      </Player>\n    );\n  }\n}\n\nexport * from './types';\nexport type SpotifyPlayer = Spotify.Player;\n\nexport { ERROR_TYPE, STATUS, TYPE } from './constants';\nexport * as spotifyApi from './modules/spotify';\n\nexport default SpotifyWebPlayer;\n","import { Locale, StylesOptions, StylesProps } from '~/types';\n\nexport function getLocale(locale?: Partial<Locale>): Locale {\n  return {\n    currentDevice: 'Current device',\n    devices: 'Devices',\n    next: 'Next',\n    otherDevices: 'Select other device',\n    pause: 'Pause',\n    play: 'Play',\n    previous: 'Previous',\n    removeTrack: 'Remove from your favorites',\n    saveTrack: 'Save to your favorites',\n    title: '{name} on SPOTIFY',\n    volume: 'Volume',\n    ...locale,\n  };\n}\n\nexport function getMergedStyles(styles?: StylesProps): StylesOptions {\n  return {\n    activeColor: '#1cb954',\n    altColor: '#ccc',\n    bgColor: '#fff',\n    color: '#333',\n    errorColor: '#ff0026',\n    height: 80,\n    loaderColor: '#ccc',\n    loaderSize: 32,\n    sliderColor: '#666',\n    sliderHandleBorderRadius: '50%',\n    sliderHandleColor: '#000',\n    sliderHeight: 4,\n    sliderTrackBorderRadius: 4,\n    sliderTrackColor: '#ccc',\n    trackArtistColor: '#666',\n    trackNameColor: '#333',\n    ...styles,\n  };\n}\n\nexport function getSpotifyLink(uri: string): string {\n  const [, type = '', id = ''] = uri.split(':');\n\n  return `https://open.spotify.com/${type}/${id}`;\n}\n\nexport function getSpotifyLinkTitle(name: string, locale: string): string {\n  return locale.replace('{name}', name);\n}\n\nexport function getSpotifyURIType(uri: string): string {\n  const [, type = ''] = uri.split(':');\n\n  return type;\n}\n","/* eslint-disable camelcase */\nimport { RepeatState, SpotifyTrack } from '~/types';\n\nexport function convertTrack(track: Spotify.Track): SpotifyTrack {\n  const { album, artists, duration_ms, id, name, uri } = track;\n\n  return {\n    artists,\n    durationMs: duration_ms,\n    id: id ?? '',\n    image: getAlbumImage(album),\n    name,\n    uri,\n  };\n}\n\nexport function getAlbumImage(album: Spotify.Album) {\n  const maxWidth = Math.max(...album.images.map(d => d.width || 0));\n\n  return album.images.find(d => d.width === maxWidth)?.url || '';\n}\n\nexport function getRepeatState(mode: number): RepeatState {\n  switch (mode) {\n    case 1:\n      return 'context';\n    case 2:\n      return 'track';\n    case 0:\n    default:\n      return 'off';\n  }\n}\n\nexport function getURIs(uris: string | string[]): string[] {\n  if (!uris) {\n    return [];\n  }\n\n  return Array.isArray(uris) ? uris : [uris];\n}\n\nexport function isNumber(value: unknown): value is number {\n  return typeof value === 'number';\n}\n\nexport function loadSpotifyPlayer(): Promise<any> {\n  return new Promise<void>((resolve, reject) => {\n    const scriptTag = document.getElementById('spotify-player');\n\n    if (!scriptTag) {\n      const script = document.createElement('script');\n\n      script.id = 'spotify-player';\n      script.type = 'text/javascript';\n      script.async = false;\n      script.defer = true;\n      script.src = 'https://sdk.scdn.co/spotify-player.js';\n      script.onload = () => resolve();\n      script.onerror = (error: any) => reject(new Error(`loadScript: ${error.message}`));\n\n      document.head.appendChild(script);\n    } else {\n      resolve();\n    }\n  });\n}\n\nexport function millisecondsToTime(input: number) {\n  const seconds = Math.floor((input / 1000) % 60);\n  const minutes = Math.floor((input / (1000 * 60)) % 60);\n  const hours = Math.floor((input / (1000 * 60 * 60)) % 24);\n\n  const parts: string[] = [];\n\n  if (hours > 0) {\n    parts.push(\n      `${hours}`.padStart(2, '0'),\n      `${minutes}`.padStart(2, '0'),\n      `${seconds}`.padStart(2, '0'),\n    );\n  } else {\n    parts.push(`${minutes}`, `${seconds}`.padStart(2, '0'));\n  }\n\n  return parts.join(':');\n}\n\nexport function parseVolume(value?: unknown): number {\n  if (!isNumber(value)) {\n    return 1;\n  }\n\n  if (value > 1) {\n    return value / 100;\n  }\n\n  return value;\n}\n\n/**\n * Round decimal numbers\n */\nexport function round(number: number, digits = 2) {\n  const factor = 10 ** digits;\n\n  return Math.round(number * factor) / factor;\n}\n\nexport function validateURI(input: string): boolean {\n  const validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\n\n  /* istanbul ignore else */\n  if (input && input.indexOf(':') > -1) {\n    const [key, type, id] = input.split(':');\n\n    /* istanbul ignore else */\n    if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","/* eslint-disable camelcase */\nimport { RepeatState, SpotifyPlayOptions } from '~/types';\n\nexport async function checkTracksStatus(\n  token: string,\n  tracks: string | string[],\n): Promise<boolean[]> {\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\n\n  return fetch(`https://api.spotify.com/v1/me/tracks/contains?ids=${ids}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'GET',\n  }).then(d => d.json());\n}\n\nexport async function getDevices(token: string): Promise<SpotifyApi.UserDevicesResponse> {\n  return fetch(`https://api.spotify.com/v1/me/player/devices`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'GET',\n  }).then(d => d.json());\n}\n\nexport async function getPlaybackState(\n  token: string,\n): Promise<SpotifyApi.CurrentlyPlayingObject | null> {\n  return fetch(`https://api.spotify.com/v1/me/player`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'GET',\n  }).then(d => {\n    if (d.status === 204) {\n      return null;\n    }\n\n    return d.json();\n  });\n}\n\nexport async function getQueue(token: string): Promise<SpotifyApi.UsersQueueResponse> {\n  return fetch(`https://api.spotify.com/v1/me/player/queue`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'GET',\n  }).then(d => d.json());\n}\n\nexport async function next(token: string, deviceId?: string): Promise<void> {\n  let query = '';\n\n  if (deviceId) {\n    query += `?device_id=${deviceId}`;\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/next${query}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n  });\n}\n\nexport async function pause(token: string, deviceId?: string): Promise<void> {\n  let query = '';\n\n  if (deviceId) {\n    query += `?device_id=${deviceId}`;\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/pause${query}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function play(\n  token: string,\n  { context_uri, deviceId, offset = 0, uris }: SpotifyPlayOptions,\n): Promise<void> {\n  let body;\n\n  if (context_uri) {\n    const isArtist = context_uri.indexOf('artist') >= 0;\n    let position;\n\n    /* istanbul ignore else */\n    if (!isArtist) {\n      position = { position: offset };\n    }\n\n    body = JSON.stringify({ context_uri, offset: position });\n  } else if (Array.isArray(uris) && uris.length) {\n    body = JSON.stringify({ uris, offset: { position: offset } });\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/play?device_id=${deviceId}`, {\n    body,\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function previous(token: string, deviceId?: string): Promise<void> {\n  let query = '';\n\n  if (deviceId) {\n    query += `?device_id=${deviceId}`;\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/previous${query}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n  });\n}\n\nexport async function removeTracks(token: string, tracks: string | string[]): Promise<void> {\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\n\n  await fetch(`https://api.spotify.com/v1/me/tracks`, {\n    body: JSON.stringify(ids),\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'DELETE',\n  });\n}\n\nexport async function repeat(token: string, state: RepeatState, deviceId?: string): Promise<void> {\n  let query = `?state=${state}`;\n\n  if (deviceId) {\n    query += `&device_id=${deviceId}`;\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/repeat${query}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function saveTracks(token: string, tracks: string | string[]): Promise<void> {\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\n\n  await fetch(`https://api.spotify.com/v1/me/tracks`, {\n    body: JSON.stringify({ ids }),\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function seek(token: string, position: number, deviceId?: string): Promise<void> {\n  let query = `?position_ms=${position}`;\n\n  if (deviceId) {\n    query += `&device_id=${deviceId}`;\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/seek${query}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function setDevice(\n  token: string,\n  deviceId: string,\n  shouldPlay?: boolean,\n): Promise<void> {\n  await fetch(`https://api.spotify.com/v1/me/player`, {\n    body: JSON.stringify({ device_ids: [deviceId], play: shouldPlay }),\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function setVolume(token: string, volume: number, deviceId?: string): Promise<void> {\n  let query = `?volume_percent=${volume}`;\n\n  if (deviceId) {\n    query += `&device_id=${deviceId}`;\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/volume${query}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n\nexport async function shuffle(token: string, state: boolean, deviceId?: string): Promise<void> {\n  let query = `?state=${state}`;\n\n  if (deviceId) {\n    query += `&device_id=${deviceId}`;\n  }\n\n  await fetch(`https://api.spotify.com/v1/me/player/shuffle${query}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n  });\n}\n","/* eslint-disable import/extensions */\n/* tslint:disable:object-literal-sort-keys */\nimport { createElement, FunctionComponent } from 'react';\nimport { create, CssLikeObject, NanoRenderer } from 'nano-css';\n// @ts-ignore\nimport { addon as addonJSX } from 'nano-css/addon/jsx.js';\nimport { addon as addonKeyframes } from 'nano-css/addon/keyframes.js';\n// @ts-ignore\nimport { addon as addonNesting } from 'nano-css/addon/nesting.js';\nimport { addon as addonRule } from 'nano-css/addon/rule.js';\n// @ts-ignore\nimport { addon as addonStyle } from 'nano-css/addon/style.js';\n// @ts-ignore\nimport { addon as addonStyled } from 'nano-css/addon/styled.js';\n\nimport { StyledProps } from '~/types';\n\ninterface NanoExtended extends NanoRenderer {\n  styled: (\n    tag: string,\n  ) => (\n    styles: CssLikeObject,\n    dynamicTemplate?: (props: StyledProps) => CssLikeObject,\n    block?: string,\n  ) => FunctionComponent<Partial<StyledProps>>;\n}\n\nconst nano = create({ h: createElement });\n\naddonRule(nano);\naddonKeyframes(nano);\naddonJSX(nano);\naddonStyle(nano);\naddonStyled(nano);\naddonNesting(nano);\n\nconst { keyframes, put, styled } = nano as NanoExtended;\n\nexport const px = (value: string | number): string =>\n  typeof value === 'number' ? `${value}px` : value;\n\nexport { keyframes, put, styled };\n\nexport { type CssLikeObject } from 'nano-css';\n","import { memo, ReactNode } from 'react';\n\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { Layout, StyledProps, StylesOptions } from '~/types';\n\ninterface Props {\n  children: ReactNode;\n  layout: Layout;\n  styles: StylesOptions;\n}\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'flex-end',\n    'pointer-events': 'none',\n  },\n  ({ style }: StyledProps) => {\n    let styles: CssLikeObject = {\n      bottom: 0,\n      position: 'absolute',\n      right: 0,\n      width: 'auto',\n    };\n\n    if (style.layout === 'responsive') {\n      styles = {\n        '@media (max-width: 767px)': styles,\n        '@media (min-width: 768px)': {\n          height: px(style.h),\n        },\n      };\n    }\n\n    return {\n      height: px(32),\n      ...styles,\n    };\n  },\n  'ActionsRSWP',\n);\n\nfunction Actions(props: Props) {\n  const { children, layout, styles } = props;\n\n  return (\n    <Wrapper data-component-name=\"Actions\" style={{ h: styles.height, layout }}>\n      {children}\n    </Wrapper>\n  );\n}\n\nexport default memo(Actions);\n","import { memo } from 'react';\n\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport {\n  CustomComponents,\n  Layout,\n  Locale,\n  SpotifyTrack,\n  StyledProps,\n  StylesOptions,\n} from '~/types';\n\nimport Next from './icons/Next';\nimport Pause from './icons/Pause';\nimport Play from './icons/Play';\nimport Previous from './icons/Previous';\nimport Slider from './Slider';\n\ninterface Props {\n  components?: CustomComponents;\n  devices: JSX.Element | null;\n  durationMs: number;\n  isActive: boolean;\n  isExternalDevice: boolean;\n  isMagnified: boolean;\n  isPlaying: boolean;\n  layout: Layout;\n  locale: Locale;\n  nextTracks: SpotifyTrack[];\n  onChangeRange: (position: number) => void;\n  onClickNext: () => void;\n  onClickPrevious: () => void;\n  onClickTogglePlay: () => void;\n  onToggleMagnify: () => void;\n  position: number;\n  progressMs: number;\n  styles: StylesOptions;\n  volume: JSX.Element | null;\n}\n\nconst Wrapper = styled('div')(\n  {\n    '.rswp__volume': {\n      position: 'absolute',\n      right: 0,\n      top: 0,\n    },\n    '.rswp__devices': {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompactLayout = style.layout === 'compact';\n    const styles: CssLikeObject = {};\n\n    if (isCompactLayout) {\n      styles.padding = px(8);\n    } else {\n      styles.padding = `${px(4)} 0`;\n      styles['@media (max-width: 767px)'] = {\n        padding: px(8),\n      };\n    }\n\n    return styles;\n  },\n  'ControlsRSWP',\n);\n\nconst Buttons = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: px(8),\n    position: 'relative',\n\n    '> div': {\n      alignItems: 'center',\n      display: 'flex',\n      minWidth: px(32),\n      textAlign: 'center',\n    },\n  },\n  ({ style }: StyledProps) => ({\n    color: style.c,\n  }),\n  'ControlsButtonsRSWP',\n);\n\nconst Button = styled('button')(\n  {\n    alignItems: 'center',\n    display: 'inline-flex',\n    fontSize: px(16),\n    height: px(32),\n    justifyContent: 'center',\n    width: px(32),\n\n    '&:disabled': {\n      cursor: 'default',\n      opacity: 0.6,\n    },\n\n    '&.rswp__toggle': {\n      fontSize: px(32),\n      width: px(48),\n    },\n  },\n  () => ({}),\n  'ControlsButtonRSWP',\n);\n\nfunction Controls(props: Props) {\n  const {\n    components: { leftButton, rightButton } = {},\n    devices,\n    durationMs,\n    isActive,\n    isExternalDevice,\n    isMagnified,\n    isPlaying,\n    layout,\n    locale,\n    nextTracks,\n    onChangeRange,\n    onClickNext,\n    onClickPrevious,\n    onClickTogglePlay,\n    onToggleMagnify,\n    position,\n    progressMs,\n    styles,\n    volume,\n  } = props;\n\n  const { color } = styles;\n\n  return (\n    <Wrapper data-component-name=\"Controls\" data-playing={isPlaying} style={{ layout }}>\n      <Buttons style={{ c: color }}>\n        {devices && <div className=\"rswp__devices\">{devices}</div>}\n        <div>{leftButton}</div>\n        <div>\n          <Button\n            aria-label={locale.previous}\n            className=\"ButtonRSWP\"\n            disabled={!isActive && !isExternalDevice}\n            onClick={onClickPrevious}\n            title={locale.previous}\n            type=\"button\"\n          >\n            <Previous />\n          </Button>\n        </div>\n        <div>\n          <Button\n            aria-label={isPlaying ? locale.pause : locale.play}\n            className=\"ButtonRSWP rswp__toggle\"\n            onClick={onClickTogglePlay}\n            title={isPlaying ? locale.pause : locale.play}\n            type=\"button\"\n          >\n            {isPlaying ? <Pause /> : <Play />}\n          </Button>\n        </div>\n        <div>\n          <Button\n            aria-label={locale.next}\n            className=\"ButtonRSWP\"\n            disabled={!nextTracks.length && !isActive && !isExternalDevice}\n            onClick={onClickNext}\n            title={locale.next}\n            type=\"button\"\n          >\n            <Next />\n          </Button>\n        </div>\n        <div>{rightButton}</div>\n        {volume && <div className=\"rswp__volume\">{volume}</div>}\n      </Buttons>\n      <Slider\n        durationMs={durationMs}\n        isMagnified={isMagnified}\n        onChangeRange={onChangeRange}\n        onToggleMagnify={onToggleMagnify}\n        position={position}\n        progressMs={progressMs}\n        styles={styles}\n      />\n    </Wrapper>\n  );\n}\n\nexport default memo(Controls);\n","export default function Next(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M53.486 0a3.2 3.2 0 0 0-3.2 3.2v23.543L4.8.489A3.2 3.2 0 0 0 0 3.255V60.74a3.2 3.2 0 0 0 4.8 2.774l45.486-26.262V60.8a3.2 3.2 0 0 0 3.2 3.2H60.8a3.2 3.2 0 0 0 3.2-3.2V3.2A3.2 3.2 0 0 0 60.8 0h-7.314Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function Pause(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm-5.4 18h-5.2a1.4 1.4 0 0 0-1.4 1.4v25.2a1.4 1.4 0 0 0 1.4 1.4h5.2a1.4 1.4 0 0 0 1.4-1.4V19.4a1.4 1.4 0 0 0-1.4-1.4Zm16 0h-5.2a1.4 1.4 0 0 0-1.4 1.4v25.2a1.4 1.4 0 0 0 1.4 1.4h5.2a1.4 1.4 0 0 0 1.4-1.4V19.4a1.4 1.4 0 0 0-1.4-1.4Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function Play(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm-7.61 18.188c-.435.251-.702.715-.701 1.216v25.194a1.402 1.402 0 0 0 2.104 1.214L47.61 33.214a1.402 1.402 0 0 0 0-2.428L25.793 18.188c-.435-.25-.97-.25-1.404 0Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function Previous(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M10.514 0a3.2 3.2 0 0 1 3.2 3.2v23.543L59.2.489A3.2 3.2 0 0 1 64 3.255V60.74a3.2 3.2 0 0 1-4.8 2.774L13.714 37.253V60.8a3.2 3.2 0 0 1-3.2 3.2H3.2A3.2 3.2 0 0 1 0 60.8V3.2A3.2 3.2 0 0 1 3.2 0h7.314Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { memo } from 'react';\nimport RangeSlider, { RangeSliderPosition } from '@gilbarbara/react-range-slider';\n\nimport { millisecondsToTime } from '~/modules/helpers';\nimport { px, styled } from '~/modules/styled';\n\nimport { StyledProps, StylesOptions } from '~/types';\n\ninterface Props {\n  durationMs: number;\n  isMagnified: boolean;\n  onChangeRange: (position: number) => void;\n  onToggleMagnify: () => void;\n  position: number;\n  progressMs: number;\n  styles: StylesOptions;\n}\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    fontSize: px(12),\n    transition: 'height 0.3s',\n    zIndex: 10,\n  },\n  ({ style }: StyledProps) => ({\n    '[class^=\"rswp_\"]': {\n      color: style.c,\n      lineHeight: 1,\n      minWidth: px(32),\n    },\n\n    '.rswp_progress': {\n      marginRight: px(style.sliderHeight + 6),\n      textAlign: 'right',\n    },\n\n    '.rswp_duration': {\n      marginLeft: px(style.sliderHeight + 6),\n      textAlign: 'left',\n    },\n  }),\n  'SliderRSWP',\n);\n\nfunction Slider(props: Props) {\n  const { durationMs, isMagnified, onChangeRange, onToggleMagnify, position, progressMs, styles } =\n    props;\n\n  const handleChangeRange = async ({ x }: RangeSliderPosition) => {\n    onChangeRange(x);\n  };\n\n  const handleSize = styles.sliderHeight + 6;\n\n  return (\n    <Wrapper\n      data-component-name=\"Slider\"\n      data-position={position}\n      onMouseEnter={onToggleMagnify}\n      onMouseLeave={onToggleMagnify}\n      style={{\n        c: styles.color,\n        sliderHeight: styles.sliderHeight,\n      }}\n    >\n      <div className=\"rswp_progress\">{millisecondsToTime(progressMs)}</div>\n      <RangeSlider\n        axis=\"x\"\n        className=\"slider\"\n        data-component-name=\"progress-bar\"\n        onChange={handleChangeRange}\n        styles={{\n          options: {\n            thumbBorder: 0,\n            thumbBorderRadius: styles.sliderHandleBorderRadius,\n            thumbColor: styles.sliderHandleColor,\n            thumbSize: isMagnified ? handleSize + 4 : handleSize,\n            height: isMagnified ? styles.sliderHeight + 4 : styles.sliderHeight,\n            padding: 0,\n            rangeColor: styles.sliderColor,\n            trackBorderRadius: styles.sliderTrackBorderRadius,\n            trackColor: styles.sliderTrackColor,\n          },\n        }}\n        x={position}\n        xMax={100}\n        xMin={0}\n        xStep={0.1}\n      />\n      <div className=\"rswp_duration\">{millisecondsToTime(durationMs)}</div>\n    </Wrapper>\n  );\n}\n\nexport default memo(Slider);\n","import { MouseEvent, useCallback, useState } from 'react';\nimport { CssLikeObject } from 'nano-css';\n\nimport { px, styled } from '~/modules/styled';\n\nimport { Layout, Locale, SpotifyDevice, StyledProps, StylesOptions } from '~/types';\n\nimport ClickOutside from './ClickOutside';\nimport DevicesIcon from './icons/Devices';\nimport DevicesComputerIcon from './icons/DevicesComputer';\nimport DevicesMobileIcon from './icons/DevicesMobile';\nimport DevicesSpeakerIcon from './icons/DevicesSpeaker';\n\ninterface Props {\n  currentDeviceId?: string;\n  deviceId?: string;\n  devices: SpotifyDevice[];\n  layout: Layout;\n  locale: Locale;\n  onClickDevice: (deviceId: string) => any;\n  open: boolean;\n  playerPosition: string;\n  styles: StylesOptions;\n}\n\ninterface DeviceList {\n  currentDevice: SpotifyDevice | null;\n  otherDevices: SpotifyDevice[];\n}\n\nconst Wrapper = styled('div')(\n  {\n    'pointer-events': 'all',\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    position: 'relative',\n    zIndex: 20,\n\n    '> div': {\n      backgroundColor: '#000',\n      borderRadius: px(8),\n      color: '#fff',\n      filter: 'drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))',\n      fontSize: px(14),\n      padding: px(16),\n      position: 'absolute',\n      textAlign: 'left',\n\n      '> p': {\n        fontWeight: 'bold',\n        marginBottom: px(8),\n        marginTop: px(16),\n        whiteSpace: 'nowrap',\n      },\n\n      button: {\n        alignItems: 'center',\n        display: 'flex',\n        whiteSpace: 'nowrap',\n        width: '100%',\n\n        '&:not(:last-of-type)': {\n          marginBottom: px(12),\n        },\n\n        span: {\n          display: 'inline-block',\n          marginLeft: px(4),\n        },\n      },\n\n      '> span': {\n        background: 'transparent',\n        borderLeft: `6px solid transparent`,\n        borderRight: `6px solid transparent`,\n        content: '\"\"',\n        display: 'block',\n        height: 0,\n        position: 'absolute',\n        width: 0,\n      },\n    },\n\n    '> button': {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: px(24),\n      height: px(32),\n      justifyContent: 'center',\n      width: px(32),\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompact = style.layout === 'compact';\n    const divStyles: CssLikeObject = isCompact\n      ? {\n          bottom: '120%',\n          left: 0,\n        }\n      : {\n          [style.p]: '120%',\n          left: 0,\n\n          '@media (min-width: 768px)': {\n            left: 'auto',\n            right: 0,\n          },\n        };\n    const spanStyles: CssLikeObject = isCompact\n      ? {\n          bottom: `-${px(6)}`,\n          borderTop: `6px solid #000`,\n          left: px(10),\n        }\n      : {\n          [style.p === 'top' ? 'border-bottom' : 'border-top']: `6px solid #000`,\n          [style.p]: '-6px',\n          left: px(10),\n\n          '@media (min-width: 768px)': {\n            left: 'auto',\n            right: px(10),\n          },\n        };\n\n    return {\n      '> button': {\n        color: style.c,\n      },\n\n      '> div': {\n        ...divStyles,\n\n        '> span': spanStyles,\n      },\n    };\n  },\n  'DevicesRSWP',\n);\n\nconst ListHeader = styled('div')({\n  p: {\n    whiteSpace: 'nowrap',\n\n    '&:nth-of-type(1)': {\n      fontWeight: 'bold',\n      marginBottom: px(8),\n    },\n\n    '&:nth-of-type(2)': {\n      alignItems: 'center',\n      display: 'flex',\n\n      span: {\n        display: 'inline-block',\n        marginLeft: px(4),\n      },\n    },\n  },\n});\n\nfunction getDeviceIcon(type: string) {\n  if (type.toLowerCase().includes('speaker')) {\n    return <DevicesSpeakerIcon />;\n  }\n\n  if (type.toLowerCase().includes('computer')) {\n    return <DevicesComputerIcon />;\n  }\n\n  return <DevicesMobileIcon />;\n}\n\nexport default function Devices(props: Props) {\n  const {\n    currentDeviceId,\n    deviceId,\n    devices = [],\n    layout,\n    locale,\n    onClickDevice,\n    open,\n    playerPosition,\n    styles: { color },\n  } = props;\n  const [isOpen, setOpen] = useState(open);\n\n  const handleClickSetDevice = (event: MouseEvent<HTMLElement>) => {\n    const { dataset } = event.currentTarget;\n\n    /* istanbul ignore else */\n    if (dataset.id) {\n      onClickDevice(dataset.id);\n\n      setOpen(false);\n    }\n  };\n\n  const handleClickToggleList = useCallback(() => {\n    setOpen(s => !s);\n  }, []);\n\n  const { currentDevice, otherDevices } = devices.reduce<DeviceList>(\n    (acc, device) => {\n      if (device.id === currentDeviceId) {\n        acc.currentDevice = device;\n      } else {\n        acc.otherDevices.push(device);\n      }\n\n      return acc;\n    },\n    { currentDevice: null, otherDevices: [] },\n  );\n\n  let icon = <DevicesIcon />;\n\n  if (deviceId && currentDevice && currentDevice.id !== deviceId) {\n    icon = getDeviceIcon(currentDevice.type);\n  }\n\n  return (\n    <ClickOutside isActive={isOpen} onClick={handleClickToggleList}>\n      <Wrapper\n        data-component-name=\"Devices\"\n        data-device-id={currentDeviceId}\n        style={{\n          c: color,\n          layout,\n          p: playerPosition,\n        }}\n      >\n        {!!devices.length && (\n          <>\n            {isOpen && (\n              <div>\n                {currentDevice && (\n                  <ListHeader>\n                    <p>{locale.currentDevice}</p>\n                    <p>\n                      {getDeviceIcon(currentDevice.type)}\n                      <span>{currentDevice.name}</span>\n                    </p>\n                  </ListHeader>\n                )}\n                {!!otherDevices.length && (\n                  <>\n                    <p>{locale.otherDevices}</p>\n                    {otherDevices.map(device => (\n                      <button\n                        key={device.id}\n                        aria-label={device.name}\n                        className=\"ButtonRSWP\"\n                        data-id={device.id}\n                        onClick={handleClickSetDevice}\n                        type=\"button\"\n                      >\n                        {getDeviceIcon(device.type)}\n                        <span>{device.name}</span>\n                      </button>\n                    ))}\n                  </>\n                )}\n                <span />\n              </div>\n            )}\n            <button\n              aria-label={locale.devices}\n              className=\"ButtonRSWP\"\n              onClick={handleClickToggleList}\n              title={locale.devices}\n              type=\"button\"\n            >\n              {icon}\n            </button>\n          </>\n        )}\n      </Wrapper>\n    </ClickOutside>\n  );\n}\n","import { memo, ReactNode, useEffect, useRef } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  isActive: boolean;\n  onClick: () => void;\n}\n\nfunction ClickOutside(props: Props) {\n  const { children, isActive, onClick, ...rest } = props;\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const isTouch = useRef(false);\n\n  const handleClick = useRef((event: MouseEvent | TouchEvent) => {\n    const container = containerRef.current;\n\n    if (event.type === 'touchend') {\n      isTouch.current = true;\n    }\n\n    if (event.type === 'click' && isTouch.current) {\n      return;\n    }\n\n    if (container && !container.contains(event.target as Node)) {\n      onClick();\n    }\n  });\n\n  useEffect(() => {\n    const { current } = handleClick;\n\n    if (isActive) {\n      document.addEventListener('touchend', current, true);\n      document.addEventListener('click', current, true);\n    }\n\n    return () => {\n      document.removeEventListener('touchend', current, true);\n      document.removeEventListener('click', current, true);\n    };\n  }, [isActive]);\n\n  return (\n    <div ref={containerRef} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nexport default memo(ClickOutside);\n","export default function DevicesIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M57 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H31a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26ZM16 54v6H8v-6h8Zm41-44H31a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM44 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM16 4v6H7a1 1 0 0 0-1 1v26a1 1 0 0 0 1 1h9v6H7a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h9Zm28 12a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function DevicesComputerIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M7.226 10.323a7.228 7.228 0 0 1 7.226-7.226h35.096a7.228 7.228 0 0 1 7.226 7.226V37.16a7.226 7.226 0 0 1-7.226 7.226H14.452a7.226 7.226 0 0 1-7.226-7.226V10.323Zm7.226-1.033c-.57 0-1.033.462-1.033 1.033V37.16c0 .57.463 1.033 1.033 1.033h35.096c.57 0 1.033-.463 1.033-1.033V10.323c0-.57-.463-1.033-1.033-1.033H14.452ZM0 57.806a3.097 3.097 0 0 1 3.097-3.096h57.806a3.097 3.097 0 0 1 0 6.193H3.097A3.097 3.097 0 0 1 0 57.806Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function DevicesMobileIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M44.8 0a9.6 9.6 0 0 1 9.6 9.6v44.8a9.6 9.6 0 0 1-9.6 9.6H19.2a9.6 9.6 0 0 1-9.6-9.6V9.6A9.6 9.6 0 0 1 19.2 0h25.6Zm0 6.4H19.2A3.2 3.2 0 0 0 16 9.6v44.8a3.2 3.2 0 0 0 3.2 3.2h25.6a3.2 3.2 0 0 0 3.2-3.2V9.6a3.2 3.2 0 0 0-3.2-3.2ZM32 43.2a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function DevicesSpeakerIcon(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M45 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H19a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26Zm0 6H19a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM32 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0-16a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { px, styled } from '~/modules/styled';\n\nimport { ComponentsProps, StyledProps } from '~/types';\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n    textAlign: 'center',\n    width: '100%',\n  },\n  ({ style }: StyledProps) => ({\n    backgroundColor: style.bgColor,\n    borderTop: `1px solid ${style.errorColor}`,\n    color: style.errorColor,\n    height: px(style.h),\n  }),\n  'ErrorRSWP',\n);\n\nexport default function ErrorMessage({\n  children,\n  styles: { bgColor, errorColor, height },\n}: ComponentsProps) {\n  return (\n    <Wrapper data-component-name=\"ErrorMessage\" style={{ bgColor, errorColor, h: height }}>\n      {children}\n    </Wrapper>\n  );\n}\n","import { memo, ReactNode, useEffect, useRef, useState } from 'react';\nimport { fade } from 'colorizr';\n\nimport { getSpotifyLink, getSpotifyLinkTitle } from '~/modules/getters';\nimport { usePrevious } from '~/modules/hooks';\nimport { checkTracksStatus, removeTracks, saveTracks } from '~/modules/spotify';\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { Layout, Locale, SpotifyTrack, StyledProps, StylesOptions } from '~/types';\n\nimport Favorite from './icons/Favorite';\nimport FavoriteOutline from './icons/FavoriteOutline';\nimport SpotifyLogo from './SpotifyLogo';\n\ninterface Props {\n  hideAttribution: boolean;\n  hideCoverArt: boolean;\n  isActive: boolean;\n  layout: Layout;\n  locale: Locale;\n  onFavoriteStatusChange: (status: boolean) => any;\n  showSaveIcon: boolean;\n  styles: StylesOptions;\n  token: string;\n  track: SpotifyTrack;\n  updateSavedStatus?: (fn: (status: boolean) => any) => any;\n}\n\nconst imageSize = 64;\nconst iconSize = 32;\n\nconst Wrapper = styled('div')(\n  {\n    textAlign: 'left',\n\n    '> a': {\n      display: 'inline-flex',\n      textDecoration: 'none',\n      minHeight: px(64),\n      minWidth: px(64),\n\n      '&:hover': {\n        textDecoration: 'underline',\n      },\n    },\n\n    button: {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: px(16),\n      height: px(iconSize + 8),\n      justifyContent: 'center',\n      width: px(iconSize),\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompactLayout = style.layout === 'compact';\n    const styles: CssLikeObject = {};\n\n    if (isCompactLayout) {\n      styles.borderBottom = `1px solid ${fade(style.c, 40)}`;\n      styles['> a'] = {\n        display: 'flex',\n        margin: '0 auto',\n        maxWidth: px(640),\n        paddingBottom: '100%',\n        position: 'relative',\n\n        img: {\n          display: 'block',\n          bottom: 0,\n          left: 0,\n          maxWidth: '100%',\n          position: 'absolute',\n          right: 0,\n          top: 0,\n        },\n      };\n    } else {\n      styles.alignItems = 'center';\n      styles.display = 'flex';\n      styles.minHeight = px(80);\n      styles['@media (max-width: 767px)'] = {\n        borderBottom: `1px solid ${fade(style.c, 40)}`,\n        paddingLeft: px(8),\n        display: 'none',\n        width: '100%',\n      };\n      styles.img = {\n        height: px(imageSize),\n        width: px(imageSize),\n      };\n      styles['&.rswp__active'] = {\n        '@media (max-width: 767px)': {\n          display: 'flex',\n        },\n      };\n    }\n\n    return {\n      button: {\n        color: style.c,\n\n        '&.rswp__active': {\n          color: style.activeColor,\n        },\n      },\n\n      ...styles,\n    };\n  },\n  'InfoRSWP',\n);\n\nconst ContentWrapper = styled('div')(\n  {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n\n    '> a': {\n      fontSize: px(22),\n      marginTop: px(4),\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompactLayout = style.layout === 'compact';\n    const styles: CssLikeObject = {};\n\n    if (isCompactLayout) {\n      styles.padding = px(8);\n      styles.width = '100%';\n    } else {\n      styles.minHeight = px(imageSize);\n\n      if (!style.hideCoverArt) {\n        styles.marginLeft = px(8);\n        styles.width = `calc(100% - ${px(imageSize + 8)})`;\n      } else {\n        styles.width = '100%';\n      }\n    }\n\n    return styles;\n  },\n  'ContentWrapperRSWP',\n);\n\nconst Content = styled('div')(\n  {\n    display: 'flex',\n    justifyContent: 'start',\n\n    '[data-type=\"title-artist-wrapper\"]': {\n      overflow: 'hidden',\n\n      div: {\n        marginLeft: `-${px(8)}`,\n        whiteSpace: 'nowrap',\n      },\n    },\n\n    p: {\n      fontSize: px(14),\n      lineHeight: 1.3,\n      paddingLeft: px(8),\n      paddingRight: px(8),\n      width: '100%',\n\n      '&:nth-of-type(1)': {\n        alignItems: 'center',\n        display: 'inline-flex',\n      },\n\n      '&:nth-of-type(2)': {\n        fontSize: px(12),\n      },\n    },\n\n    span: {\n      display: 'inline-block',\n    },\n  },\n  ({ style }: StyledProps) => {\n    return {\n      '[data-type=\"title-artist-wrapper\"]': {\n        color: style.trackNameColor,\n        maxWidth: `calc(100% - ${px(style.showSaveIcon ? iconSize : 0)})`,\n\n        div: {\n          '-webkit-mask-image': `linear-gradient(90deg,transparent 0, ${style.bgColor} 6px, ${style.bgColor} calc(100% - 12px),transparent)`,\n        },\n      },\n      p: {\n        '&:nth-of-type(1)': {\n          color: style.trackNameColor,\n\n          a: {\n            color: style.trackNameColor,\n          },\n        },\n\n        '&:nth-of-type(2)': {\n          color: style.trackArtistColor,\n\n          a: {\n            color: style.trackArtistColor,\n          },\n        },\n      },\n    };\n  },\n  'ContentRSWP',\n);\n\nfunction Info(props: Props) {\n  const {\n    hideAttribution,\n    hideCoverArt,\n    isActive,\n    layout,\n    locale,\n    onFavoriteStatusChange,\n    showSaveIcon,\n    styles: { activeColor, bgColor, color, height, trackArtistColor, trackNameColor },\n    token,\n    track: { artists = [], id, image, name, uri },\n    updateSavedStatus,\n  } = props;\n  const [isSaved, setIsSaved] = useState(false);\n  const isMounted = useRef(false);\n  const previousId = usePrevious(id);\n  const isCompactLayout = layout === 'compact';\n\n  const updateState = (state: boolean) => {\n    if (!isMounted.current) {\n      return;\n    }\n\n    setIsSaved(state);\n  };\n\n  const setStatus = async () => {\n    if (!isMounted.current) {\n      return;\n    }\n\n    if (updateSavedStatus && id) {\n      updateSavedStatus((newStatus: boolean) => {\n        updateState(newStatus);\n      });\n    }\n\n    const status = await checkTracksStatus(token, id);\n    const [isFavorite] = status || [false];\n\n    updateState(isFavorite);\n    onFavoriteStatusChange(isSaved);\n  };\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    if (showSaveIcon && id) {\n      setStatus();\n    }\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (showSaveIcon && previousId !== id && id) {\n      updateState(false);\n\n      setStatus();\n    }\n  });\n\n  const handleClickIcon = async () => {\n    if (isSaved) {\n      await removeTracks(token, id);\n      updateState(false);\n    } else {\n      await saveTracks(token, id);\n      updateState(true);\n    }\n\n    onFavoriteStatusChange(!isSaved);\n  };\n\n  const title = getSpotifyLinkTitle(name, locale.title);\n  let favorite;\n\n  /* istanbul ignore else */\n  if (showSaveIcon && id) {\n    favorite = (\n      <button\n        aria-label={isSaved ? locale.removeTrack : locale.saveTrack}\n        className={`ButtonRSWP${isSaved ? ' rswp__active' : ''}`}\n        onClick={handleClickIcon}\n        title={isSaved ? locale.removeTrack : locale.saveTrack}\n        type=\"button\"\n      >\n        {isSaved ? <Favorite /> : <FavoriteOutline />}\n      </button>\n    );\n  }\n\n  const content: Record<string, ReactNode> = {};\n  const classes = [];\n\n  if (isActive) {\n    classes.push('rswp__active');\n  }\n\n  if (isCompactLayout) {\n    content.image = <img alt={name} src={image} />;\n  }\n\n  if (!id) {\n    return <div />;\n  }\n\n  return (\n    <Wrapper\n      className={classes.join(' ')}\n      data-component-name=\"Info\"\n      style={{\n        activeColor,\n        c: color,\n        h: height,\n        layout,\n        showSaveIcon,\n      }}\n    >\n      {!hideCoverArt && (\n        <a\n          aria-label={title}\n          href={getSpotifyLink(uri)}\n          rel=\"noreferrer\"\n          target=\"_blank\"\n          title={title}\n        >\n          <img alt={name} src={image} />\n        </a>\n      )}\n      <ContentWrapper\n        style={{\n          hideCoverArt,\n          layout,\n          showSaveIcon,\n        }}\n      >\n        {!!name && (\n          <Content\n            style={{\n              bgColor,\n              layout,\n              showSaveIcon,\n              trackArtistColor,\n              trackNameColor,\n            }}\n          >\n            <div data-type=\"title-artist-wrapper\">\n              <div>\n                <p>\n                  <span>\n                    <a\n                      aria-label={title}\n                      href={getSpotifyLink(uri)}\n                      rel=\"noreferrer\"\n                      target=\"_blank\"\n                      title={title}\n                    >\n                      {name}\n                    </a>\n                  </span>\n                </p>\n                <p title={artists.map(d => d.name).join(', ')}>\n                  {artists.map((artist, index) => {\n                    const artistTitle = getSpotifyLinkTitle(artist.name, locale.title);\n\n                    return (\n                      <span key={artist.uri}>\n                        {index ? ', ' : ''}\n                        <a\n                          aria-label={artistTitle}\n                          href={getSpotifyLink(artist.uri)}\n                          rel=\"noreferrer\"\n                          target=\"_blank\"\n                          title={artistTitle}\n                        >\n                          {artist.name}\n                        </a>\n                      </span>\n                    );\n                  })}\n                </p>\n              </div>\n            </div>\n            {favorite}\n          </Content>\n        )}\n        {!hideAttribution && (\n          <a\n            aria-label=\"Play on Spotify\"\n            href={getSpotifyLink(uri)}\n            rel=\"noreferrer\"\n            target=\"_blank\"\n          >\n            <SpotifyLogo bgColor={bgColor} />\n          </a>\n        )}\n      </ContentWrapper>\n    </Wrapper>\n  );\n}\n\nexport default memo(Info);\n","import { useEffect, useRef, useState } from 'react';\n\nexport function useMediaQuery(input: string): boolean {\n  const getMatches = (query: string): boolean => {\n    return window.matchMedia(query).matches;\n  };\n\n  const [matches, setMatches] = useState<boolean>(getMatches(input));\n\n  function handleChange() {\n    setMatches(getMatches(input));\n  }\n\n  useEffect(() => {\n    const matchMedia = window.matchMedia(input);\n\n    // Triggered at the first client-side load and if query changes\n    handleChange();\n\n    try {\n      matchMedia.addEventListener('change', handleChange);\n    } catch {\n      // Safari isn't supporting matchMedia.addEventListener\n      /* istanbul ignore next */\n      matchMedia.addListener(handleChange);\n    }\n\n    return () => {\n      try {\n        matchMedia.removeEventListener('change', handleChange);\n      } catch {\n        // Safari isn't supporting matchMedia.removeEventListener\n        /* istanbul ignore next */\n        matchMedia.removeListener(handleChange);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [input]);\n\n  return matches;\n}\n\nexport function usePrevious<T>(value: T): T {\n  const ref: any = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","export default function Favorite(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M63.673 16.52A17.676 17.676 0 0 0 49.197 2.563c-5.4-.861-10.891.852-14.844 4.63a3.43 3.43 0 0 1-4.672 0C22.956.689 12.305.62 5.498 7.039c-6.808 6.419-7.366 17.055-1.268 24.15l24.246 28.894a4.623 4.623 0 0 0 7.078 0L59.8 31.19a17.328 17.328 0 0 0 3.873-14.66v-.008Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function FavoriteOutline(props: any) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\n      <path\n        d=\"M5.944 7.206C13.271.3 24.723.34 31.999 7.3A18.924 18.924 0 0 1 48.02 2.32h.008a19.068 19.068 0 0 1 15.617 15.071v.013A18.759 18.759 0 0 1 59.47 33.26L37.573 59.353a7.288 7.288 0 0 1-8.642 1.916 7.276 7.276 0 0 1-2.498-1.912l-21.901-26.1c-6.55-7.671-5.93-19.131 1.408-26.051h.004Zm13.04 1.04a12.726 12.726 0 0 0-9.737 20.997l.021.02 21.905 26.105c.316.372.84.488 1.284.285.143-.066.27-.164.372-.285l21.934-26.137a12.565 12.565 0 0 0 2.808-10.625 12.875 12.875 0 0 0-10.534-10.17 12.714 12.714 0 0 0-10.785 3.37l-.029.029a6.198 6.198 0 0 1-8.444 0l-.037-.033a12.727 12.727 0 0 0-8.758-3.556Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { textColor } from 'colorizr';\n\ninterface Props {\n  bgColor: string;\n}\n\nexport default function SpotifyLogo({ bgColor, ...rest }: Props) {\n  return (\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 512 160\" width=\"3.2em\" {...rest}>\n      <path\n        d=\"M79.655 0C35.664 0 0 35.663 0 79.654c0 43.993 35.664 79.653 79.655 79.653 43.996 0 79.656-35.66 79.656-79.653 0-43.988-35.66-79.65-79.657-79.65L79.655 0Zm36.53 114.884a4.963 4.963 0 0 1-6.83 1.646c-18.702-11.424-42.246-14.011-69.973-7.676a4.967 4.967 0 0 1-5.944-3.738 4.958 4.958 0 0 1 3.734-5.945c30.343-6.933 56.37-3.948 77.367 8.884a4.965 4.965 0 0 1 1.645 6.83Zm9.75-21.689c-1.799 2.922-5.622 3.845-8.543 2.047-21.41-13.16-54.049-16.972-79.374-9.284a6.219 6.219 0 0 1-7.75-4.138 6.22 6.22 0 0 1 4.141-7.745c28.929-8.778 64.892-4.526 89.48 10.583 2.92 1.798 3.843 5.622 2.045 8.538Zm.836-22.585C101.1 55.362 58.742 53.96 34.231 61.4c-3.936 1.194-8.098-1.028-9.29-4.964a7.453 7.453 0 0 1 4.965-9.294c28.137-8.542 74.912-6.892 104.469 10.655a7.441 7.441 0 0 1 2.606 10.209c-2.092 3.54-6.677 4.707-10.206 2.605h-.004Zm89.944 2.922c-13.754-3.28-16.198-5.581-16.198-10.418 0-4.57 4.299-7.645 10.7-7.645 6.202 0 12.347 2.336 18.796 7.143.19.145.437.203.675.165a.888.888 0 0 0 .6-.367l6.715-9.466a.903.903 0 0 0-.171-1.225c-7.676-6.157-16.313-9.15-26.415-9.15-14.848 0-25.225 8.911-25.225 21.662 0 13.673 8.95 18.515 24.417 22.252 13.155 3.031 15.38 5.57 15.38 10.11 0 5.032-4.49 8.161-11.718 8.161-8.028 0-14.582-2.71-21.906-9.046a.932.932 0 0 0-.656-.218.89.89 0 0 0-.619.313l-7.533 8.96a.906.906 0 0 0 .086 1.256c8.522 7.61 19.004 11.624 30.323 11.624 16 0 26.339-8.742 26.339-22.277.028-11.421-6.81-17.746-23.561-21.821l-.029-.013Zm59.792-13.564c-6.934 0-12.622 2.732-17.321 8.33v-6.3c0-.498-.4-.903-.894-.903h-12.318a.899.899 0 0 0-.894.902v70.009c0 .494.4.903.894.903h12.318a.901.901 0 0 0 .894-.903v-22.097c4.699 5.26 10.387 7.838 17.32 7.838 12.89 0 25.94-9.92 25.94-28.886.019-18.97-13.032-28.894-25.93-28.894l-.01.001Zm11.614 28.893c0 9.653-5.945 16.397-14.468 16.397-8.418 0-14.772-7.048-14.772-16.397 0-9.35 6.354-16.397 14.772-16.397 8.38 0 14.468 6.893 14.468 16.396Zm47.759-28.893c-16.598 0-29.601 12.78-29.601 29.1 0 16.143 12.917 28.784 29.401 28.784 16.655 0 29.696-12.736 29.696-28.991 0-16.2-12.955-28.89-29.496-28.89v-.003Zm0 45.385c-8.827 0-15.485-7.096-15.485-16.497 0-9.444 6.43-16.298 15.285-16.298 8.884 0 15.58 7.093 15.58 16.504 0 9.443-6.468 16.291-15.38 16.291Zm64.937-44.258h-13.554V47.24c0-.497-.4-.902-.894-.902H374.05a.906.906 0 0 0-.904.902v13.855h-5.916a.899.899 0 0 0-.894.902v10.584a.9.9 0 0 0 .894.903h5.916v27.39c0 11.062 5.508 16.674 16.38 16.674 4.413 0 8.075-.914 11.528-2.873a.88.88 0 0 0 .457-.78v-10.083a.896.896 0 0 0-.428-.76.873.873 0 0 0-.876-.039c-2.368 1.19-4.66 1.741-7.229 1.741-3.947 0-5.716-1.798-5.716-5.812V73.49h13.554a.899.899 0 0 0 .894-.903V62.003a.873.873 0 0 0-.884-.903l-.01-.005Zm47.217.054v-1.702c0-5.006 1.921-7.238 6.22-7.238 2.57 0 4.633.51 6.945 1.28a.895.895 0 0 0 1.18-.858l-.001-10.377a.891.891 0 0 0-.637-.865c-2.435-.726-5.555-1.47-10.235-1.47-11.367 0-17.388 6.405-17.388 18.516v2.606h-5.916a.906.906 0 0 0-.904.902v10.638c0 .497.41.903.904.903h5.916v42.237c0 .504.41.904.904.904h12.308c.504 0 .904-.4.904-.904V73.487h11.5l17.616 42.234c-1.998 4.433-3.967 5.317-6.65 5.317-2.168 0-4.46-.646-6.79-1.93a.98.98 0 0 0-.714-.067.896.896 0 0 0-.533.485l-4.175 9.16a.9.9 0 0 0 .39 1.17c4.356 2.359 8.284 3.367 13.145 3.367 9.093 0 14.125-4.242 18.548-15.637l21.364-55.204a.88.88 0 0 0-.095-.838.878.878 0 0 0-.733-.392h-12.822a.901.901 0 0 0-.856.605l-13.136 37.509-14.382-37.534a.898.898 0 0 0-.837-.58h-21.04v-.003Zm-27.375-.054h-12.318a.907.907 0 0 0-.903.902v53.724c0 .504.409.904.903.904h12.318c.495 0 .904-.4.904-.904v-53.72a.9.9 0 0 0-.904-.903v-.003Zm-6.088-24.464c-4.88 0-8.836 3.95-8.836 8.828a8.835 8.835 0 0 0 8.836 8.836c4.88 0 8.827-3.954 8.827-8.836a8.83 8.83 0 0 0-8.827-8.828Z\"\n        fill={textColor(bgColor)}\n      />\n    </svg>\n  );\n}\n","import { keyframes, px, styled } from '~/modules/styled';\n\nimport { ComponentsProps, StyledProps } from '~/types';\n\nconst Wrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    jsutifyContent: 'center',\n    position: 'relative',\n\n    '> div': {\n      borderRadius: '50%',\n      borderStyle: 'solid',\n      borderWidth: 0,\n      boxSizing: 'border-box',\n      height: 0,\n      left: '50%',\n      position: 'absolute',\n      top: '50%',\n      transform: 'translate(-50%, -50%)',\n      width: 0,\n    },\n  },\n  ({ style }: StyledProps) => {\n    const pulse = keyframes!({\n      '0%': {\n        height: 0,\n        width: 0,\n      },\n\n      '30%': {\n        borderWidth: px(8),\n        height: px(style.loaderSize),\n        opacity: 1,\n        width: px(style.loaderSize),\n      },\n\n      '100%': {\n        borderWidth: 0,\n        height: px(style.loaderSize),\n        opacity: 0,\n        width: px(style.loaderSize),\n      },\n    });\n\n    return {\n      height: px(style.h),\n\n      '> div': {\n        animation: `${pulse} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)`,\n        borderColor: style.loaderColor,\n        height: px(style.loaderSize),\n        width: px(style.loaderSize),\n      },\n    };\n  },\n  'LoaderRSWP',\n);\n\nexport default function Loader({ styles: { height, loaderColor, loaderSize } }: ComponentsProps) {\n  return (\n    <Wrapper data-component-name=\"Loader\" style={{ h: height, loaderColor, loaderSize }}>\n      <div />\n    </Wrapper>\n  );\n}\n","import { forwardRef } from 'react';\n\nimport { px } from '~/modules/styled';\n\nimport { ComponentsProps } from '~/types';\n\nconst Player = forwardRef<HTMLDivElement, ComponentsProps>((props, ref) => {\n  const {\n    children,\n    styles: { bgColor, height },\n    ...rest\n  } = props;\n\n  return (\n    <div\n      ref={ref}\n      className=\"PlayerRSWP\"\n      data-component-name=\"Player\"\n      style={{ background: bgColor, minHeight: px(height) }}\n      {...rest}\n    >\n      {children}\n    </div>\n  );\n});\n\nexport default Player;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport RangeSlider, { RangeSliderPosition } from '@gilbarbara/react-range-slider';\n\nimport { useMediaQuery, usePrevious } from '~/modules/hooks';\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { Layout, Locale, StyledProps, StylesOptions } from '~/types';\n\nimport ClickOutside from './ClickOutside';\nimport VolumeHigh from './icons/VolumeHigh';\nimport VolumeLow from './icons/VolumeLow';\nimport VolumeMid from './icons/VolumeMid';\nimport VolumeMute from './icons/VolumeMute';\n\ninterface Props {\n  inlineVolume: boolean;\n  layout: Layout;\n  locale: Locale;\n  playerPosition: string;\n  setVolume: (volume: number) => any;\n  styles: StylesOptions;\n  volume: number;\n}\n\nconst WrapperWithToggle = styled('div')(\n  {\n    display: 'none',\n    'pointer-events': 'all',\n    position: 'relative',\n    zIndex: 20,\n\n    '> div': {\n      alignItems: 'center',\n      backgroundColor: '#000',\n      borderRadius: px(4),\n      color: '#fff',\n      display: 'flex',\n      filter: 'drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))',\n      flexDirection: 'column',\n      left: '-4px',\n      padding: px(16),\n      position: 'absolute',\n\n      '> span': {\n        background: 'transparent',\n        borderLeft: `6px solid transparent`,\n        borderRight: `6px solid transparent`,\n        content: '\"\"',\n        display: 'block',\n        height: 0,\n        position: 'absolute',\n        width: 0,\n      },\n    },\n\n    '> button': {\n      alignItems: 'center',\n      display: 'flex',\n      fontSize: px(24),\n      height: px(32),\n      justifyContent: 'center',\n      width: px(32),\n    },\n\n    '@media (any-pointer: fine)': {\n      display: 'block',\n    },\n  },\n  ({ style }: StyledProps) => {\n    const isCompact = style.layout === 'compact';\n    const spanStyles: CssLikeObject = isCompact\n      ? {\n          bottom: `-${px(6)}`,\n          borderTop: `6px solid #000`,\n        }\n      : {\n          [style.p === 'top' ? 'border-bottom' : 'border-top']: `6px solid #000`,\n          [style.p]: '-6px',\n        };\n\n    return {\n      '> button': {\n        color: style.c,\n      },\n      '> div': {\n        [isCompact ? 'bottom' : style.p]: '130%',\n\n        '> span': spanStyles,\n      },\n    };\n  },\n  'VolumeRSWP',\n);\n\nconst WrapperInline = styled('div')(\n  {\n    display: 'none',\n    padding: `0 ${px(8)}`,\n    'pointer-events': 'all',\n\n    '> div': {\n      display: 'flex',\n      padding: `0 ${px(5)}`,\n      width: px(100),\n    },\n\n    '> span': {\n      display: 'flex',\n      fontSize: px(24),\n    },\n\n    '@media (any-pointer: fine)': {\n      alignItems: 'center',\n      display: 'flex',\n    },\n  },\n  ({ style }) => ({\n    color: style.c,\n  }),\n  'VolumeInlineRSWP',\n);\n\nexport default function Volume(props: Props) {\n  const { inlineVolume, layout, locale, playerPosition, setVolume, styles, volume } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const [volumeState, setVolumeState] = useState(volume);\n  const timeoutRef = useRef<number>();\n  const previousVolume = usePrevious(volume);\n  const isMediumScreen = useMediaQuery('(min-width: 768px)');\n  const isInline = layout === 'responsive' && inlineVolume && isMediumScreen;\n\n  useEffect(() => {\n    if (previousVolume !== volume && volume !== volumeState) {\n      setVolumeState(volume);\n    }\n  }, [previousVolume, volume, volumeState]);\n\n  const handleClickToggleList = useCallback(() => {\n    setIsOpen(s => !s);\n  }, []);\n\n  const handleChangeSlider = ({ x, y }: RangeSliderPosition) => {\n    const value = isInline ? x : y;\n    const currentvolume = Math.round(value) / 100;\n\n    clearTimeout(timeoutRef.current);\n\n    timeoutRef.current = window.setTimeout(() => {\n      setVolume(currentvolume);\n    }, 250);\n\n    setVolumeState(currentvolume);\n  };\n\n  const handleAfterEnd = () => {\n    setTimeout(() => {\n      setIsOpen(false);\n    }, 100);\n  };\n\n  let icon = <VolumeHigh />;\n\n  if (volume === 0) {\n    icon = <VolumeMute />;\n  } else if (volume <= 0.4) {\n    icon = <VolumeLow />;\n  } else if (volume <= 0.7) {\n    icon = <VolumeMid />;\n  }\n\n  if (isInline) {\n    return (\n      <WrapperInline data-component-name=\"Volume\" data-value={volume} style={{ c: styles.color }}>\n        <span>{icon}</span>\n        <div>\n          <RangeSlider\n            axis=\"x\"\n            className=\"volume\"\n            data-component-name=\"volume-bar\"\n            onAfterEnd={handleAfterEnd}\n            onChange={handleChangeSlider}\n            styles={{\n              options: {\n                thumbBorder: 0,\n                thumbBorderRadius: styles.sliderHandleBorderRadius,\n                thumbColor: styles.sliderHandleColor,\n                height: 4,\n                padding: 0,\n                rangeColor: styles.sliderColor,\n                trackBorderRadius: styles.sliderTrackBorderRadius,\n                trackColor: styles.sliderTrackColor,\n              },\n            }}\n            x={volume * 100}\n            xMax={100}\n            xMin={0}\n          />\n        </div>\n      </WrapperInline>\n    );\n  }\n\n  return (\n    <ClickOutside isActive={isOpen} onClick={handleClickToggleList}>\n      <WrapperWithToggle\n        data-component-name=\"Volume\"\n        data-value={volume}\n        style={{ c: styles.color, layout, p: playerPosition }}\n      >\n        {isOpen && (\n          <div>\n            <RangeSlider\n              axis=\"y\"\n              className=\"volume\"\n              data-component-name=\"volume-bar\"\n              onAfterEnd={handleAfterEnd}\n              onChange={handleChangeSlider}\n              styles={{\n                options: {\n                  padding: 0,\n                  rangeColor: '#fff',\n                  thumbBorder: 0,\n                  thumbBorderRadius: 12,\n                  thumbColor: '#fff',\n                  thumbSize: 12,\n                  trackColor: 'rgba(255, 255, 255, 0.5)',\n                  width: 6,\n                },\n              }}\n              y={volume * 100}\n              yMax={100}\n              yMin={0}\n            />\n            <span />\n          </div>\n        )}\n        <button\n          aria-label={locale.volume}\n          className=\"ButtonRSWP\"\n          onClick={handleClickToggleList}\n          title={locale.volume}\n          type=\"button\"\n        >\n          {icon}\n        </button>\n      </WrapperWithToggle>\n    </ClickOutside>\n  );\n}\n","export default function VolumeHigh(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeHigh\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M37.963 3.402a2.989 2.989 0 0 1 1.5 2.596v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0ZM45 9.542a23.008 23.008 0 0 1 0 44.912V48.25a17.008 17.008 0 0 0 0-32.508Zm-11.532 1.656-23.2 13.4a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6ZM45 22.238a11 11 0 0 1 0 19.52v-19.52Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function VolumeLow(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeLow\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 41.758v-19.52a11 11 0 0 1 0 19.52Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function VolumeHigh(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeMid\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 48.946a18.008 18.008 0 0 0 0-33.896v6.6a11.996 11.996 0 0 1 0 20.7v6.596Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","export default function VolumeMute(props: any) {\n  return (\n    <svg\n      data-component-name=\"VolumeMute\"\n      height=\"1em\"\n      preserveAspectRatio=\"xMidYMid\"\n      viewBox=\"0 0 64 64\"\n      width=\"1em\"\n      {...props}\n    >\n      <path\n        d=\"M34.963 3.402a3 3 0 0 1 4.5 2.6v7.624a19.03 19.03 0 0 0-6 2.776v-5.2l-23.2 13.4a8.57 8.57 0 0 0-3.12 3.128 8.564 8.564 0 0 0 3.124 11.68l23.196 13.392v-5.2a18.92 18.92 0 0 0 6 2.776v7.624a3 3 0 0 1-4.5 2.596l-27.7-16a14.556 14.556 0 0 1-5.32-5.328C-2.06 32.313.32 23.428 7.263 19.402l27.7-16Zm17.354 17.6a3 3 0 0 1 2.122 5.12l-5.88 5.88 5.876 5.88a3 3 0 0 1-4.24 4.24l-5.88-5.88-5.88 5.88a3 3 0 1 1-4.385-4.095l6.025-6.025-5.876-5.88a3 3 0 0 1 4.236-4.24l5.88 5.88 5.88-5.88a3 3 0 0 1 2.122-.88Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { memo } from 'react';\n\nimport { CssLikeObject, px, styled } from '~/modules/styled';\n\nimport { ComponentsProps, StyledProps } from '~/types';\n\nconst StyledWrapper = styled('div')(\n  {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    position: 'relative',\n\n    '> *': {\n      width: '100%',\n    },\n  },\n  ({ style }: StyledProps) => {\n    let styles: CssLikeObject = {};\n\n    if (style.layout === 'responsive') {\n      styles = {\n        '> *': {\n          '@media (min-width: 768px)': {\n            width: '33.3333%',\n          },\n        },\n\n        '@media (min-width: 768px)': {\n          flexDirection: 'row',\n          padding: `0 ${px(8)}`,\n        },\n      };\n    }\n\n    return {\n      minHeight: px(style.h),\n      ...styles,\n    };\n  },\n  'WrapperRSWP',\n);\n\nfunction Wrapper(props: ComponentsProps) {\n  const { children, layout, styles } = props;\n\n  return (\n    <StyledWrapper data-component-name=\"Wrapper\" style={{ h: styles.height, layout }}>\n      {children}\n    </StyledWrapper>\n  );\n}\n\nexport default memo(Wrapper);\n","export const ERROR_TYPE = {\n  ACCOUNT: 'account',\n  AUTHENTICATION: 'authentication',\n  INITIALIZATION: 'initialization',\n  PLAYBACK: 'playback',\n  PLAYER: 'player',\n} as const;\n\nexport const STATUS = {\n  ERROR: 'ERROR',\n  IDLE: 'IDLE',\n  INITIALIZING: 'INITIALIZING',\n  READY: 'READY',\n  RUNNING: 'RUNNING',\n  UNSUPPORTED: 'UNSUPPORTED',\n} as const;\n\nexport const TYPE = {\n  DEVICE: 'device_update',\n  FAVORITE: 'favorite_update',\n  PLAYER: 'player_update',\n  PROGRESS: 'progress_update',\n  STATUS: 'status_update',\n  TRACK: 'track_update',\n} as const;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}